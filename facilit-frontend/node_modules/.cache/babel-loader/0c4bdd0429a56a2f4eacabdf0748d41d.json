{"ast":null,"code":"import _Object$values from \"@babel/runtime-corejs3/core-js-stable/object/values\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { t } from '@superset-ui/translation';\nimport EditableTitle from '../../components/EditableTitle';\nimport TooltipWrapper from '../../components/TooltipWrapper';\nimport SliceHeaderControls from './SliceHeaderControls';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  innerRef: PropTypes.func,\n  slice: PropTypes.object.isRequired,\n  isExpanded: PropTypes.bool,\n  isCached: PropTypes.bool,\n  cachedDttm: PropTypes.string,\n  updatedDttm: PropTypes.number,\n  updateSliceName: PropTypes.func,\n  toggleExpandSlice: PropTypes.func,\n  forceRefresh: PropTypes.func,\n  exploreChart: PropTypes.func,\n  exportCSV: PropTypes.func,\n  editMode: PropTypes.bool,\n  annotationQuery: PropTypes.object,\n  annotationError: PropTypes.object,\n  sliceName: PropTypes.string,\n  supersetCanExplore: PropTypes.bool,\n  supersetCanCSV: PropTypes.bool,\n  sliceCanEdit: PropTypes.bool,\n  componentId: PropTypes.string.isRequired,\n  dashboardId: PropTypes.number.isRequired,\n  filters: PropTypes.object.isRequired,\n  addDangerToast: PropTypes.func.isRequired };\n\n\nconst defaultProps = {\n  innerRef: null,\n  forceRefresh: () => ({}),\n  removeSlice: () => ({}),\n  updateSliceName: () => ({}),\n  toggleExpandSlice: () => ({}),\n  exploreChart: () => ({}),\n  exportCSV: () => ({}),\n  editMode: false,\n  annotationQuery: {},\n  annotationError: {},\n  cachedDttm: null,\n  updatedDttm: null,\n  isCached: false,\n  isExpanded: false,\n  sliceName: '',\n  supersetCanExplore: false,\n  supersetCanCSV: false,\n  sliceCanEdit: false };\n\n\nconst annoationsLoading = t('Annotation layers are still loading.');\nconst annoationsError = t('One ore more annotation layers failed loading.');\n\nclass SliceHeader extends React.PureComponent {\n  render() {\n    const {\n      slice,\n      isExpanded,\n      isCached,\n      cachedDttm,\n      updatedDttm,\n      toggleExpandSlice,\n      forceRefresh,\n      exploreChart,\n      exportCSV,\n      innerRef,\n      sliceName,\n      supersetCanExplore,\n      supersetCanCSV,\n      sliceCanEdit,\n      editMode,\n      updateSliceName,\n      annotationQuery,\n      annotationError,\n      componentId,\n      dashboardId,\n      addDangerToast } =\n    this.props;\n\n    return (\n      ___EmotionJSX(\"div\", { className: \"chart-header\", ref: innerRef, __source: { fileName: _jsxFileName, lineNumber: 103 }, __self: this },\n      ___EmotionJSX(\"div\", { className: \"header\", __source: { fileName: _jsxFileName, lineNumber: 104 }, __self: this },\n      ___EmotionJSX(EditableTitle, {\n        title:\n        sliceName || (\n        editMode ?\n        '---' // this makes an empty title clickable\n        : ''),\n\n        canEdit: editMode,\n        emptyText: \"\",\n        onSaveTitle: updateSliceName,\n        showTooltip: false, __source: { fileName: _jsxFileName, lineNumber: 105 }, __self: this }),\n\n      !!_Object$values(annotationQuery).length &&\n      ___EmotionJSX(TooltipWrapper, {\n        label: \"annotations-loading\",\n        placement: \"top\",\n        tooltip: annoationsLoading, __source: { fileName: _jsxFileName, lineNumber: 118 }, __self: this },\n\n      ___EmotionJSX(\"i\", { className: \"fa fa-refresh warning\", __source: { fileName: _jsxFileName, lineNumber: 123 }, __self: this })),\n\n\n      !!_Object$values(annotationError).length &&\n      ___EmotionJSX(TooltipWrapper, {\n        label: \"annoation-errors\",\n        placement: \"top\",\n        tooltip: annoationsError, __source: { fileName: _jsxFileName, lineNumber: 127 }, __self: this },\n\n      ___EmotionJSX(\"i\", { className: \"fa fa-exclamation-circle danger\", __source: { fileName: _jsxFileName, lineNumber: 132 }, __self: this })),\n\n\n      !editMode &&\n      ___EmotionJSX(SliceHeaderControls, {\n        slice: slice,\n        isCached: isCached,\n        isExpanded: isExpanded,\n        cachedDttm: cachedDttm,\n        updatedDttm: updatedDttm,\n        toggleExpandSlice: toggleExpandSlice,\n        forceRefresh: forceRefresh,\n        exploreChart: exploreChart,\n        exportCSV: exportCSV,\n        supersetCanExplore: supersetCanExplore,\n        supersetCanCSV: supersetCanCSV,\n        sliceCanEdit: sliceCanEdit,\n        componentId: componentId,\n        dashboardId: dashboardId,\n        addDangerToast: addDangerToast, __source: { fileName: _jsxFileName, lineNumber: 136 }, __self: this }))));\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nSliceHeader.propTypes = propTypes;\nSliceHeader.defaultProps = defaultProps;const _default =\n\nSliceHeader;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(annoationsLoading, \"annoationsLoading\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(annoationsError, \"annoationsError\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(SliceHeader, \"SliceHeader\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/SliceHeader.jsx"],"names":["React","PropTypes","t","EditableTitle","TooltipWrapper","SliceHeaderControls","propTypes","innerRef","func","slice","object","isRequired","isExpanded","bool","isCached","cachedDttm","string","updatedDttm","number","updateSliceName","toggleExpandSlice","forceRefresh","exploreChart","exportCSV","editMode","annotationQuery","annotationError","sliceName","supersetCanExplore","supersetCanCSV","sliceCanEdit","componentId","dashboardId","filters","addDangerToast","defaultProps","removeSlice","annoationsLoading","annoationsError","SliceHeader","PureComponent","render","props","length"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { t } from '@superset-ui/translation';\nimport EditableTitle from '../../components/EditableTitle';\nimport TooltipWrapper from '../../components/TooltipWrapper';\nimport SliceHeaderControls from './SliceHeaderControls';\n\nconst propTypes = {\n  innerRef: PropTypes.func,\n  slice: PropTypes.object.isRequired,\n  isExpanded: PropTypes.bool,\n  isCached: PropTypes.bool,\n  cachedDttm: PropTypes.string,\n  updatedDttm: PropTypes.number,\n  updateSliceName: PropTypes.func,\n  toggleExpandSlice: PropTypes.func,\n  forceRefresh: PropTypes.func,\n  exploreChart: PropTypes.func,\n  exportCSV: PropTypes.func,\n  editMode: PropTypes.bool,\n  annotationQuery: PropTypes.object,\n  annotationError: PropTypes.object,\n  sliceName: PropTypes.string,\n  supersetCanExplore: PropTypes.bool,\n  supersetCanCSV: PropTypes.bool,\n  sliceCanEdit: PropTypes.bool,\n  componentId: PropTypes.string.isRequired,\n  dashboardId: PropTypes.number.isRequired,\n  filters: PropTypes.object.isRequired,\n  addDangerToast: PropTypes.func.isRequired,\n};\n\nconst defaultProps = {\n  innerRef: null,\n  forceRefresh: () => ({}),\n  removeSlice: () => ({}),\n  updateSliceName: () => ({}),\n  toggleExpandSlice: () => ({}),\n  exploreChart: () => ({}),\n  exportCSV: () => ({}),\n  editMode: false,\n  annotationQuery: {},\n  annotationError: {},\n  cachedDttm: null,\n  updatedDttm: null,\n  isCached: false,\n  isExpanded: false,\n  sliceName: '',\n  supersetCanExplore: false,\n  supersetCanCSV: false,\n  sliceCanEdit: false,\n};\n\nconst annoationsLoading = t('Annotation layers are still loading.');\nconst annoationsError = t('One ore more annotation layers failed loading.');\n\nclass SliceHeader extends React.PureComponent {\n  render() {\n    const {\n      slice,\n      isExpanded,\n      isCached,\n      cachedDttm,\n      updatedDttm,\n      toggleExpandSlice,\n      forceRefresh,\n      exploreChart,\n      exportCSV,\n      innerRef,\n      sliceName,\n      supersetCanExplore,\n      supersetCanCSV,\n      sliceCanEdit,\n      editMode,\n      updateSliceName,\n      annotationQuery,\n      annotationError,\n      componentId,\n      dashboardId,\n      addDangerToast,\n    } = this.props;\n\n    return (\n      <div className=\"chart-header\" ref={innerRef}>\n        <div className=\"header\">\n          <EditableTitle\n            title={\n              sliceName ||\n              (editMode\n                ? '---' // this makes an empty title clickable\n                : '')\n            }\n            canEdit={editMode}\n            emptyText=\"\"\n            onSaveTitle={updateSliceName}\n            showTooltip={false}\n          />\n          {!!Object.values(annotationQuery).length && (\n            <TooltipWrapper\n              label=\"annotations-loading\"\n              placement=\"top\"\n              tooltip={annoationsLoading}\n            >\n              <i className=\"fa fa-refresh warning\" />\n            </TooltipWrapper>\n          )}\n          {!!Object.values(annotationError).length && (\n            <TooltipWrapper\n              label=\"annoation-errors\"\n              placement=\"top\"\n              tooltip={annoationsError}\n            >\n              <i className=\"fa fa-exclamation-circle danger\" />\n            </TooltipWrapper>\n          )}\n          {!editMode && (\n            <SliceHeaderControls\n              slice={slice}\n              isCached={isCached}\n              isExpanded={isExpanded}\n              cachedDttm={cachedDttm}\n              updatedDttm={updatedDttm}\n              toggleExpandSlice={toggleExpandSlice}\n              forceRefresh={forceRefresh}\n              exploreChart={exploreChart}\n              exportCSV={exportCSV}\n              supersetCanExplore={supersetCanExplore}\n              supersetCanCSV={supersetCanCSV}\n              sliceCanEdit={sliceCanEdit}\n              componentId={componentId}\n              dashboardId={dashboardId}\n              addDangerToast={addDangerToast}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSliceHeader.propTypes = propTypes;\nSliceHeader.defaultProps = defaultProps;\n\nexport default SliceHeader;\n"]},"metadata":{},"sourceType":"module"}