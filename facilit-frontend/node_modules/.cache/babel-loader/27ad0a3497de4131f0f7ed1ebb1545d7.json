{"ast":null,"code":"import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/EstimateQueryCostButton.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactable-arc';\nimport { Alert } from 'react-bootstrap';\nimport { t } from '@superset-ui/translation';\n\nimport Button from '../../components/Button';\nimport Loading from '../../components/Loading';\nimport ModalTrigger from '../../components/ModalTrigger';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  dbId: PropTypes.number.isRequired,\n  schema: PropTypes.string.isRequired,\n  sql: PropTypes.string.isRequired,\n  getEstimate: PropTypes.func.isRequired,\n  queryCostEstimate: PropTypes.Object,\n  selectedText: PropTypes.string,\n  tooltip: PropTypes.string,\n  disabled: PropTypes.bool };\n\nconst defaultProps = {\n  queryCostEstimate: [],\n  tooltip: '',\n  disabled: false };\n\n\nclass EstimateQueryCostButton extends React.PureComponent {\n  constructor(props) {var _context, _context2;\n    super(props);\n    this.queryCostModal = React.createRef();\n    this.onClick = _bindInstanceProperty(_context = this.onClick).call(_context, this);\n    this.renderModalBody = _bindInstanceProperty(_context2 = this.renderModalBody).call(_context2, this);\n  }\n\n  onClick() {\n    this.props.getEstimate();\n  }\n\n  renderModalBody() {\n    if (this.props.queryCostEstimate.error !== null) {\n      return (\n        ___EmotionJSX(Alert, { key: \"query-estimate-error\", bsStyle: \"danger\", __source: { fileName: _jsxFileName, lineNumber: 60 }, __self: this },\n        this.props.queryCostEstimate.error));\n\n\n    } else if (this.props.queryCostEstimate.completed) {\n      return (\n        ___EmotionJSX(Table, {\n          className: \"table cost-estimate\",\n          data: this.props.queryCostEstimate.cost, __source: { fileName: _jsxFileName, lineNumber: 66 }, __self: this }));\n\n\n    }\n    return ___EmotionJSX(Loading, { position: \"normal\", __source: { fileName: _jsxFileName, lineNumber: 72 }, __self: this });\n  }\n\n  render() {\n    const { disabled, selectedText, tooltip } = this.props;\n    const btnText = selectedText ?\n    t('Estimate Selected Query Cost') :\n    t('Estimate Query Cost');\n    return (\n      ___EmotionJSX(\"span\", { className: \"EstimateQueryCostButton\", __source: { fileName: _jsxFileName, lineNumber: 81 }, __self: this },\n      ___EmotionJSX(ModalTrigger, {\n        ref: this.queryCostModal,\n        modalTitle: t('Query Cost Estimate'),\n        modalBody: this.renderModalBody(),\n        triggerNode:\n        ___EmotionJSX(Button, {\n          bsStyle: \"warning\",\n          bsSize: \"small\",\n          onClick: this.onClick,\n          key: \"query-estimate-btn\",\n          tooltip: tooltip,\n          disabled: disabled, __source: { fileName: _jsxFileName, lineNumber: 87 }, __self: this },\n\n        ___EmotionJSX(\"i\", { className: \"fa fa-clock-o\", __source: { fileName: _jsxFileName, lineNumber: 95 }, __self: this }), \" \", btnText),\n\n\n        bsSize: \"medium\", __source: { fileName: _jsxFileName, lineNumber: 82 }, __self: this })));\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nEstimateQueryCostButton.propTypes = propTypes;\nEstimateQueryCostButton.defaultProps = defaultProps;const _default =\n\nEstimateQueryCostButton;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/EstimateQueryCostButton.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/EstimateQueryCostButton.jsx\");reactHotLoader.register(EstimateQueryCostButton, \"EstimateQueryCostButton\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/EstimateQueryCostButton.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/EstimateQueryCostButton.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/EstimateQueryCostButton.jsx"],"names":["React","PropTypes","Table","Alert","t","Button","Loading","ModalTrigger","propTypes","dbId","number","isRequired","schema","string","sql","getEstimate","func","queryCostEstimate","Object","selectedText","tooltip","disabled","bool","defaultProps","EstimateQueryCostButton","PureComponent","constructor","props","queryCostModal","createRef","onClick","renderModalBody","error","completed","cost","render","btnText"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactable-arc';\nimport { Alert } from 'react-bootstrap';\nimport { t } from '@superset-ui/translation';\n\nimport Button from '../../components/Button';\nimport Loading from '../../components/Loading';\nimport ModalTrigger from '../../components/ModalTrigger';\n\nconst propTypes = {\n  dbId: PropTypes.number.isRequired,\n  schema: PropTypes.string.isRequired,\n  sql: PropTypes.string.isRequired,\n  getEstimate: PropTypes.func.isRequired,\n  queryCostEstimate: PropTypes.Object,\n  selectedText: PropTypes.string,\n  tooltip: PropTypes.string,\n  disabled: PropTypes.bool,\n};\nconst defaultProps = {\n  queryCostEstimate: [],\n  tooltip: '',\n  disabled: false,\n};\n\nclass EstimateQueryCostButton extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.queryCostModal = React.createRef();\n    this.onClick = this.onClick.bind(this);\n    this.renderModalBody = this.renderModalBody.bind(this);\n  }\n\n  onClick() {\n    this.props.getEstimate();\n  }\n\n  renderModalBody() {\n    if (this.props.queryCostEstimate.error !== null) {\n      return (\n        <Alert key=\"query-estimate-error\" bsStyle=\"danger\">\n          {this.props.queryCostEstimate.error}\n        </Alert>\n      );\n    } else if (this.props.queryCostEstimate.completed) {\n      return (\n        <Table\n          className=\"table cost-estimate\"\n          data={this.props.queryCostEstimate.cost}\n        />\n      );\n    }\n    return <Loading position=\"normal\" />;\n  }\n\n  render() {\n    const { disabled, selectedText, tooltip } = this.props;\n    const btnText = selectedText\n      ? t('Estimate Selected Query Cost')\n      : t('Estimate Query Cost');\n    return (\n      <span className=\"EstimateQueryCostButton\">\n        <ModalTrigger\n          ref={this.queryCostModal}\n          modalTitle={t('Query Cost Estimate')}\n          modalBody={this.renderModalBody()}\n          triggerNode={\n            <Button\n              bsStyle=\"warning\"\n              bsSize=\"small\"\n              onClick={this.onClick}\n              key=\"query-estimate-btn\"\n              tooltip={tooltip}\n              disabled={disabled}\n            >\n              <i className=\"fa fa-clock-o\" /> {btnText}\n            </Button>\n          }\n          bsSize=\"medium\"\n        />\n      </span>\n    );\n  }\n}\n\nEstimateQueryCostButton.propTypes = propTypes;\nEstimateQueryCostButton.defaultProps = defaultProps;\n\nexport default EstimateQueryCostButton;\n"]},"metadata":{},"sourceType":"module"}