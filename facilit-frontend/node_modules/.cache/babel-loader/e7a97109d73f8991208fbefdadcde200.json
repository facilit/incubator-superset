{"ast":null,"code":"import _indexOfInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/index-of\";import _trimInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/trim\";import _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";import _findInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/find\";import _JSON$stringify from \"@babel/runtime-corejs3/core-js-stable/json/stringify\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _forEachInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/for-each\";var _context;(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  */\nimport React from 'react';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { hot } from 'react-hot-loader/root';\nimport { ThemeProvider } from 'emotion-theming';\nimport { supersetTheme } from '@superset-ui/style';\nimport {\ninitFeatureFlags,\nisFeatureEnabled,\nFeatureFlag } from\n'src/featureFlags';\nimport getInitialState from './reducers/getInitialState';\nimport rootReducer from './reducers/index';\nimport { initEnhancer } from '../reduxUtils';\nimport App from './components/App';\nimport {\nemptyQueryResults,\nclearQueryEditors } from\n'./utils/reduxStateToLocalStorageHelper';\nimport { BYTES_PER_CHAR, KB_STORAGE } from './constants';\nimport setupApp from '../setup/setupApp';\n\nimport './main.less';\nimport '../../stylesheets/reactable-pagination.less';\nimport '../components/FilterableTable/FilterableTableStyles.less';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nsetupApp();\n\nconst appContainer = document.getElementById('app');\nconst bootstrapData = JSON.parse(appContainer.getAttribute('data-bootstrap'));\n\ninitFeatureFlags(bootstrapData.common.feature_flags);\n\nconst initialState = getInitialState(bootstrapData);\nconst sqlLabPersistStateConfig = {\n  paths: ['sqlLab'],\n  config: {\n    slicer: paths => state => {\n      const subset = {};\n      _forEachInstanceProperty(paths).call(paths, path => {\n        // this line is used to remove old data from browser localStorage.\n        // we used to persist all redux state into localStorage, but\n        // it caused configurations passed from server-side got override.\n        // see PR 6257 for details\n        delete state[path].common; // eslint-disable-line no-param-reassign\n        if (path === 'sqlLab') {\n          subset[path] = _Object$assign({},\n          state[path], {\n            queries: emptyQueryResults(state[path].queries),\n            queryEditors: clearQueryEditors(state[path].queryEditors) });\n\n        }\n      });\n\n      const data = _JSON$stringify(subset);\n      // 2 digit precision\n      const currentSize =\n      Math.round(data.length * BYTES_PER_CHAR / KB_STORAGE * 100) / 100;\n      if (state.localStorageUsageInKilobytes !== currentSize) {\n        state.localStorageUsageInKilobytes = currentSize; // eslint-disable-line no-param-reassign\n      }\n\n      return subset;\n    } } };\n\n\n\nconst store = createStore(\nrootReducer,\ninitialState,\ncompose(\napplyMiddleware(thunkMiddleware),\ninitEnhancer(\n!isFeatureEnabled(FeatureFlag.SQLLAB_BACKEND_PERSISTENCE),\nsqlLabPersistStateConfig)));\n\n\n\n\n// Highlight the navbar menu\nconst menus = document.querySelectorAll('.nav.navbar-nav li.dropdown');\nconst sqlLabMenu = _findInstanceProperty(_context = _sliceInstanceProperty(Array.prototype).\napply(menus)).call(_context,\nelement => {var _context2;return _trimInstanceProperty(_context2 = element.innerText).call(_context2) === 'SQL Lab';});\nif (sqlLabMenu) {\n  const classes = sqlLabMenu.getAttribute('class');\n  if (_indexOfInstanceProperty(classes).call(classes, 'active') === -1) {\n    sqlLabMenu.setAttribute('class', classes + \" active\");\n  }\n}\n\nconst Application = () =>\n___EmotionJSX(Provider, { store: store },\n___EmotionJSX(ThemeProvider, { theme: supersetTheme },\n___EmotionJSX(App, null)));const _default =\n\n\n\n\nhot(Application);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(appContainer, \"appContainer\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(bootstrapData, \"bootstrapData\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(initialState, \"initialState\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(sqlLabPersistStateConfig, \"sqlLabPersistStateConfig\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(store, \"store\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(menus, \"menus\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(sqlLabMenu, \"sqlLabMenu\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(Application, \"Application\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/App.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}