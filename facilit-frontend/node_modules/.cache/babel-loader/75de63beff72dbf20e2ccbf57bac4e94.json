{"ast":null,"code":"import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                 * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                 * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                 * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                 * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                 * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                 * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                 * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                 *\n                                                                                                                                                                                                                                                                                                                                                                                                 *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                 *\n                                                                                                                                                                                                                                                                                                                                                                                                 * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                 * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                 * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                 * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                 * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                 * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Popover, OverlayTrigger } from 'react-bootstrap';\nimport { t } from '@superset-ui/translation';\n\nimport CopyToClipboard from './../../components/CopyToClipboard';\nimport { getExploreLongUrl } from '../exploreUtils';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  latestQueryFormData: PropTypes.object.isRequired };\n\n\nexport default class EmbedCodeButton extends React.Component {\n  constructor(props) {var _context;\n    super(props);\n    this.state = {\n      height: '400',\n      width: '600' };\n\n    this.handleInputChange = _bindInstanceProperty(_context = this.handleInputChange).call(_context, this);\n  }\n\n  handleInputChange(e) {\n    const value = e.currentTarget.value;\n    const name = e.currentTarget.name;\n    const data = {};\n    data[name] = value;\n    this.setState(data);\n  }\n\n  generateEmbedHTML() {\n    const srcLink =\n    window.location.origin +\n    getExploreLongUrl(this.props.latestQueryFormData, 'standalone') + (\"&height=\" +\n    this.state.height);\n    return (\n      '<iframe\\n' + (\"  width=\\\"\" +\n      this.state.width + \"\\\"\\n\") + (\"  height=\\\"\" +\n      this.state.height + \"\\\"\\n\") +\n      '  seamless\\n' +\n      '  frameBorder=\"0\"\\n' +\n      '  scrolling=\"no\"\\n' + (\"  src=\\\"\" +\n      srcLink + \"\\\"\\n\") +\n      '>\\n' +\n      '</iframe>');\n\n  }\n\n  renderPopover() {\n    const html = this.generateEmbedHTML();\n    return (\n      ___EmotionJSX(Popover, { id: \"embed-code-popover\" },\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(\"div\", { className: \"row\" },\n      ___EmotionJSX(\"div\", { className: \"col-sm-10\" },\n      ___EmotionJSX(\"textarea\", {\n        name: \"embedCode\",\n        value: html,\n        rows: \"4\",\n        readOnly: true,\n        className: \"form-control input-sm\" })),\n\n\n      ___EmotionJSX(\"div\", { className: \"col-sm-2\" },\n      ___EmotionJSX(CopyToClipboard, {\n        shouldShowText: false,\n        text: html,\n        copyNode:\n        ___EmotionJSX(\"i\", {\n          className: \"fa fa-clipboard\",\n          title: t('Copy to clipboard') }) }))),\n\n\n\n\n\n      ___EmotionJSX(\"br\", null),\n      ___EmotionJSX(\"div\", { className: \"row\" },\n      ___EmotionJSX(\"div\", { className: \"col-md-6 col-sm-12\" },\n      ___EmotionJSX(\"div\", { className: \"form-group\" },\n      ___EmotionJSX(\"small\", null,\n      ___EmotionJSX(\"label\", { className: \"control-label\", htmlFor: \"embed-height\" },\n      t('Height'))),\n\n\n      ___EmotionJSX(\"input\", {\n        className: \"form-control input-sm\",\n        type: \"text\",\n        defaultValue: this.state.height,\n        name: \"height\",\n        onChange: this.handleInputChange }))),\n\n\n\n      ___EmotionJSX(\"div\", { className: \"col-md-6 col-sm-12\" },\n      ___EmotionJSX(\"div\", { className: \"form-group\" },\n      ___EmotionJSX(\"small\", null,\n      ___EmotionJSX(\"label\", { className: \"control-label\", htmlFor: \"embed-width\" },\n      t('Width'))),\n\n\n      ___EmotionJSX(\"input\", {\n        className: \"form-control input-sm\",\n        type: \"text\",\n        defaultValue: this.state.width,\n        name: \"width\",\n        onChange: this.handleInputChange,\n        id: \"embed-width\" })))))));\n\n\n\n\n\n\n\n  }\n  render() {\n    return (\n      ___EmotionJSX(OverlayTrigger, {\n        trigger: \"click\",\n        rootClose: true,\n        placement: \"left\",\n        overlay: this.renderPopover() },\n\n      ___EmotionJSX(\"span\", { className: \"btn btn-default btn-sm\", \"data-test\": \"embed-code-button\" },\n      ___EmotionJSX(\"i\", { className: \"fa fa-code\" }), \"\\xA0\")));\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nEmbedCodeButton.propTypes = propTypes;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/EmbedCodeButton.jsx\");reactHotLoader.register(EmbedCodeButton, \"EmbedCodeButton\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/EmbedCodeButton.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}