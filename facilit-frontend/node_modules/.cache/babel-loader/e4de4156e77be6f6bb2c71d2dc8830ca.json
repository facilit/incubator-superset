{"ast":null,"code":"import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                 * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                 * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                 * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                 * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                 * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                 * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                 * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                 *\n                                                                                                                                                                                                                                                                                                                                                                                                 *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                 *\n                                                                                                                                                                                                                                                                                                                                                                                                 * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                 * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                 * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                 * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                 * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                 * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'src/components/Select';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/css';\nimport 'brace/theme/github';\nimport { t } from '@superset-ui/translation';\n\nimport ModalTrigger from '../../components/ModalTrigger';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  initialCss: PropTypes.string,\n  triggerNode: PropTypes.node.isRequired,\n  onChange: PropTypes.func,\n  templates: PropTypes.array };\n\n\nconst defaultProps = {\n  initialCss: '',\n  onChange: () => {},\n  templates: [] };\n\n\nclass CssEditor extends React.PureComponent {\n  constructor(props) {var _context, _context2;\n    super(props);\n    this.state = {\n      css: props.initialCss,\n      cssTemplateOptions: [] };\n\n    this.changeCss = _bindInstanceProperty(_context = this.changeCss).call(_context, this);\n    this.changeCssTemplate = _bindInstanceProperty(_context2 = this.changeCssTemplate).call(_context2, this);\n  }\n\n  changeCss(css) {\n    this.setState({ css }, () => {\n      this.props.onChange(css);\n    });\n  }\n\n  changeCssTemplate(opt) {\n    this.changeCss(opt.css);\n  }\n\n  renderTemplateSelector() {\n    if (this.props.templates) {\n      return (\n        ___EmotionJSX(\"div\", { style: { zIndex: 10 } },\n        ___EmotionJSX(\"h5\", null, t('Load a template')),\n        ___EmotionJSX(Select, {\n          options: this.props.templates,\n          placeholder: t('Load a CSS template'),\n          onChange: this.changeCssTemplate })));\n\n\n\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      ___EmotionJSX(ModalTrigger, {\n        triggerNode: this.props.triggerNode,\n        modalTitle: t('CSS'),\n        isMenuItem: true,\n        modalBody:\n        ___EmotionJSX(\"div\", null,\n        this.renderTemplateSelector(),\n        ___EmotionJSX(\"div\", { style: { zIndex: 1 } },\n        ___EmotionJSX(\"h5\", null, t('Live CSS Editor')),\n        ___EmotionJSX(\"div\", { style: { border: 'solid 1px grey' } },\n        ___EmotionJSX(AceEditor, {\n          mode: \"css\",\n          theme: \"github\",\n          minLines: 8,\n          maxLines: 30,\n          onChange: this.changeCss,\n          height: \"200px\",\n          width: \"100%\",\n          editorProps: { $blockScrolling: true },\n          enableLiveAutocompletion: true,\n          value: this.state.css || '' })))) }));\n\n\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nCssEditor.propTypes = propTypes;\nCssEditor.defaultProps = defaultProps;const _default =\n\nCssEditor;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/CssEditor.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/CssEditor.jsx\");reactHotLoader.register(CssEditor, \"CssEditor\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/CssEditor.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/CssEditor.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/CssEditor.jsx"],"names":["React","PropTypes","Select","AceEditor","t","ModalTrigger","propTypes","initialCss","string","triggerNode","node","isRequired","onChange","func","templates","array","defaultProps","CssEditor","PureComponent","constructor","props","state","css","cssTemplateOptions","changeCss","changeCssTemplate","setState","opt","renderTemplateSelector","zIndex","render","border","$blockScrolling"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'src/components/Select';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/css';\nimport 'brace/theme/github';\nimport { t } from '@superset-ui/translation';\n\nimport ModalTrigger from '../../components/ModalTrigger';\n\nconst propTypes = {\n  initialCss: PropTypes.string,\n  triggerNode: PropTypes.node.isRequired,\n  onChange: PropTypes.func,\n  templates: PropTypes.array,\n};\n\nconst defaultProps = {\n  initialCss: '',\n  onChange: () => {},\n  templates: [],\n};\n\nclass CssEditor extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      css: props.initialCss,\n      cssTemplateOptions: [],\n    };\n    this.changeCss = this.changeCss.bind(this);\n    this.changeCssTemplate = this.changeCssTemplate.bind(this);\n  }\n\n  changeCss(css) {\n    this.setState({ css }, () => {\n      this.props.onChange(css);\n    });\n  }\n\n  changeCssTemplate(opt) {\n    this.changeCss(opt.css);\n  }\n\n  renderTemplateSelector() {\n    if (this.props.templates) {\n      return (\n        <div style={{ zIndex: 10 }}>\n          <h5>{t('Load a template')}</h5>\n          <Select\n            options={this.props.templates}\n            placeholder={t('Load a CSS template')}\n            onChange={this.changeCssTemplate}\n          />\n        </div>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      <ModalTrigger\n        triggerNode={this.props.triggerNode}\n        modalTitle={t('CSS')}\n        isMenuItem\n        modalBody={\n          <div>\n            {this.renderTemplateSelector()}\n            <div style={{ zIndex: 1 }}>\n              <h5>{t('Live CSS Editor')}</h5>\n              <div style={{ border: 'solid 1px grey' }}>\n                <AceEditor\n                  mode=\"css\"\n                  theme=\"github\"\n                  minLines={8}\n                  maxLines={30}\n                  onChange={this.changeCss}\n                  height=\"200px\"\n                  width=\"100%\"\n                  editorProps={{ $blockScrolling: true }}\n                  enableLiveAutocompletion\n                  value={this.state.css || ''}\n                />\n              </div>\n            </div>\n          </div>\n        }\n      />\n    );\n  }\n}\n\nCssEditor.propTypes = propTypes;\nCssEditor.defaultProps = defaultProps;\n\nexport default CssEditor;\n"]},"metadata":{},"sourceType":"module"}