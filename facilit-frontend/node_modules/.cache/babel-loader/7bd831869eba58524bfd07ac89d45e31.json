{"ast":null,"code":"import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";import _isFunction from \"lodash/isFunction\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { CreatableSelect } from 'src/components/Select';\nimport ControlHeader from '../ControlHeader';\nimport TooltipWrapper from '../../../components/TooltipWrapper';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  description: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func,\n  value: PropTypes.string,\n  default: PropTypes.string,\n  choices: PropTypes.oneOfType([\n  PropTypes.arrayOf(PropTypes.array),\n  PropTypes.func]).\n  isRequired,\n  schemes: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired,\n  isLinear: PropTypes.bool };\n\n\nconst defaultProps = {\n  choices: [],\n  schemes: {},\n  onChange: () => {} };\n\n\nexport default class ColorSchemeControl extends React.PureComponent {\n  constructor(props) {var _context, _context2;\n    super(props);\n    this.state = {\n      scheme: this.props.value };\n\n\n    this.onChange = _bindInstanceProperty(_context = this.onChange).call(_context, this);\n    this.renderOption = _bindInstanceProperty(_context2 = this.renderOption).call(_context2, this);\n  }\n\n  onChange(option) {\n    const optionValue = option ? option.value : null;\n    this.props.onChange(optionValue);\n    this.setState({ scheme: optionValue });\n  }\n\n  renderOption(key) {\n    const { isLinear, schemes } = this.props;\n    const schemeLookup = _isFunction(schemes) ? schemes() : schemes;\n    const currentScheme = schemeLookup[key.value || defaultProps.value];\n\n    // For categorical scheme, display all the colors\n    // For sequential scheme, show 10 or interpolate to 10.\n    // Sequential schemes usually have at most 10 colors.\n    let colors = [];\n    if (currentScheme) {\n      colors = isLinear ? currentScheme.getColors(10) : currentScheme.colors;\n    }\n\n    return (\n      ___EmotionJSX(TooltipWrapper, {\n        label: currentScheme.id + \"-tooltip\",\n        tooltip: currentScheme.label },\n\n      ___EmotionJSX(\"ul\", { className: \"color-scheme-container\" },\n      _mapInstanceProperty(colors).call(colors, (color, i) =>\n      ___EmotionJSX(\"li\", {\n        key: currentScheme.id + \"-\" + i,\n        style: {\n          backgroundColor: color,\n          border: \"1px solid \" + (color === 'white' ? 'black' : color) } }, \"\\xA0\")))));\n\n\n\n\n\n\n\n\n  }\n\n  render() {var _context3;\n    const { choices } = this.props;\n    const options = _mapInstanceProperty(_context3 = _isFunction(choices) ? choices() : choices).call(_context3, choice => ({\n      value: choice[0],\n      label: choice[1] }));\n\n\n    const selectProps = {\n      multi: false,\n      name: \"select-\" + this.props.name,\n      placeholder: \"Select (\" + options.length + \")\",\n      default: this.props.default,\n      options,\n      value: this.props.value,\n      autosize: false,\n      clearable: false,\n      onChange: this.onChange,\n      optionRenderer: this.renderOption,\n      valueRenderer: this.renderOption };\n\n    return (\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(ControlHeader, this.props),\n      ___EmotionJSX(CreatableSelect, selectProps)));\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nColorSchemeControl.propTypes = propTypes;\nColorSchemeControl.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ColorSchemeControl.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ColorSchemeControl.jsx\");reactHotLoader.register(ColorSchemeControl, \"ColorSchemeControl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/ColorSchemeControl.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}