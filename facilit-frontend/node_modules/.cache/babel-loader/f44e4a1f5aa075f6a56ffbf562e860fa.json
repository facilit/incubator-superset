{"ast":null,"code":"import \"core-js/modules/es.symbol.description\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormControl, FormGroup, Row, Col } from 'react-bootstrap';\nimport { t } from '@superset-ui/translation';\n\nimport Button from '../../components/Button';\nimport ModalTrigger from '../../components/ModalTrigger';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  query: PropTypes.object,\n  defaultLabel: PropTypes.string,\n  animation: PropTypes.bool,\n  onSave: PropTypes.func,\n  onUpdate: PropTypes.func,\n  saveQueryWarning: PropTypes.string };\n\nconst defaultProps = {\n  defaultLabel: t('Undefined'),\n  animation: true,\n  onSave: () => {},\n  saveQueryWarning: null };\n\n\nclass SaveQuery extends React.PureComponent {\n  constructor(props) {var _context, _context2, _context3, _context4, _context5, _context6;\n    super(props);\n    this.state = {\n      description: '',\n      label: props.defaultLabel,\n      showSave: false };\n\n    this.toggleSave = _bindInstanceProperty(_context = this.toggleSave).call(_context, this);\n    this.onSave = _bindInstanceProperty(_context2 = this.onSave).call(_context2, this);\n    this.onUpdate = _bindInstanceProperty(_context3 = this.onUpdate).call(_context3, this);\n    this.onCancel = _bindInstanceProperty(_context4 = this.onCancel).call(_context4, this);\n    this.onLabelChange = _bindInstanceProperty(_context5 = this.onLabelChange).call(_context5, this);\n    this.onDescriptionChange = _bindInstanceProperty(_context6 = this.onDescriptionChange).call(_context6, this);\n  }\n  onSave() {\n    this.props.onSave(this.queryPayload());\n    this.close();\n  }\n  onUpdate() {\n    this.props.onUpdate(this.queryPayload());\n    this.close();\n  }\n  onCancel() {\n    this.close();\n  }\n  onLabelChange(e) {\n    this.setState({ label: e.target.value });\n  }\n  onDescriptionChange(e) {\n    this.setState({ description: e.target.value });\n  }\n  queryPayload() {\n    return _Object$assign({},\n    this.props.query, {\n      title: this.state.label,\n      description: this.state.description });\n\n  }\n  close() {\n    if (this.saveModal) this.saveModal.close();\n  }\n  toggleSave(e) {\n    this.setState({ target: e.target, showSave: !this.state.showSave });\n  }\n  renderModalBody() {\n    const isSaved = !!this.props.query.remoteId;\n    return (\n      ___EmotionJSX(FormGroup, { bsSize: \"small\" },\n      ___EmotionJSX(Row, null,\n      ___EmotionJSX(Col, { md: 12 },\n      ___EmotionJSX(\"small\", null,\n      ___EmotionJSX(\"label\", { className: \"control-label\", htmlFor: \"embed-height\" },\n      t('Label'))),\n\n\n      ___EmotionJSX(FormControl, {\n        type: \"text\",\n        placeholder: t('Label for your query'),\n        value: this.state.label,\n        onChange: this.onLabelChange }))),\n\n\n\n      ___EmotionJSX(\"br\", null),\n      ___EmotionJSX(Row, null,\n      ___EmotionJSX(Col, { md: 12 },\n      ___EmotionJSX(\"small\", null,\n      ___EmotionJSX(\"label\", { className: \"control-label\", htmlFor: \"embed-height\" },\n      t('Description'))),\n\n\n      ___EmotionJSX(FormControl, {\n        componentClass: \"textarea\",\n        placeholder: t('Write a description for your query'),\n        value: this.state.description,\n        onChange: this.onDescriptionChange }))),\n\n\n\n      ___EmotionJSX(\"br\", null),\n      this.props.saveQueryWarning &&\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(Row, null,\n      ___EmotionJSX(Col, { md: 12 },\n      ___EmotionJSX(\"small\", null, this.props.saveQueryWarning))),\n\n\n      ___EmotionJSX(\"br\", null)),\n\n\n      ___EmotionJSX(Row, null,\n      ___EmotionJSX(Col, { md: 12 },\n      isSaved &&\n      ___EmotionJSX(Button, {\n        bsStyle: \"primary\",\n        onClick: this.onUpdate,\n        className: \"m-r-3\" },\n\n      t('Update')),\n\n\n      ___EmotionJSX(Button, {\n        bsStyle: isSaved ? undefined : 'primary',\n        onClick: this.onSave,\n        className: \"m-r-3\" },\n\n      isSaved ? t('Save New') : t('Save')),\n\n      ___EmotionJSX(Button, { onClick: this.onCancel, className: \"cancelQuery\" },\n      t('Cancel'))))));\n\n\n\n\n\n  }\n  render() {\n    return (\n      ___EmotionJSX(\"span\", { className: \"SaveQuery\" },\n      ___EmotionJSX(ModalTrigger, {\n        ref: _ref => {\n          this.saveModal = _ref;\n        },\n        modalTitle: t('Save Query'),\n        modalBody: this.renderModalBody(),\n        backdrop: \"static\",\n        triggerNode:\n        ___EmotionJSX(Button, {\n          bsSize: \"small\",\n          className: \"toggleSave\",\n          onClick: this.toggleSave },\n\n        ___EmotionJSX(\"i\", { className: \"fa fa-save\" }), \" \", t('Save')),\n\n\n        bsSize: \"small\" })));\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}SaveQuery.propTypes = propTypes;\nSaveQuery.defaultProps = defaultProps;const _default =\n\nSaveQuery;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/SaveQuery.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/SaveQuery.jsx\");reactHotLoader.register(SaveQuery, \"SaveQuery\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/SaveQuery.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/SqlLab/components/SaveQuery.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}