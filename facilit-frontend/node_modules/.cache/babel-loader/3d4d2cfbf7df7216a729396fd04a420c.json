{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs3/core-js-stable/date/now\";import _Array$from from \"@babel/runtime-corejs3/core-js-stable/array/from\";import _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";import _Set from \"@babel/runtime-corejs3/core-js-stable/set\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   */\n/* eslint-disable camelcase */\nimport {\nADD_SLICE,\nON_CHANGE,\nON_SAVE,\nREMOVE_SLICE,\nSET_COLOR_SCHEME,\nSET_EDIT_MODE,\nSET_MAX_UNDO_HISTORY_EXCEEDED,\nSET_UNSAVED_CHANGES,\nSHOW_BUILDER_PANE,\nTOGGLE_EXPAND_SLICE,\nTOGGLE_FAVE_STAR,\nTOGGLE_PUBLISHED,\nUPDATE_CSS,\nSET_REFRESH_FREQUENCY,\nSET_DIRECT_PATH,\nSET_FOCUSED_FILTER_FIELD } from\n'../actions/dashboardState';\nimport { BUILDER_PANE_TYPE } from '../util/constants';\n\nexport default function dashboardStateReducer(state = {}, action) {\n  const actionHandlers = {\n    [UPDATE_CSS]() {\n      return _Object$assign({}, state, { css: action.css });\n    },\n    [ADD_SLICE]() {\n      const updatedSliceIds = new _Set(state.sliceIds);\n      updatedSliceIds.add(_sliceInstanceProperty(action).slice_id);\n      return _Object$assign({},\n      state, {\n        sliceIds: _Array$from(updatedSliceIds) });\n\n    },\n    [REMOVE_SLICE]() {\n      const sliceId = action.sliceId;\n      const updatedSliceIds = new _Set(state.sliceIds);\n      updatedSliceIds.delete(sliceId);\n\n      return _Object$assign({},\n      state, {\n        sliceIds: _Array$from(updatedSliceIds) });\n\n    },\n    [TOGGLE_FAVE_STAR]() {\n      return _Object$assign({}, state, { isStarred: action.isStarred });\n    },\n    [TOGGLE_PUBLISHED]() {\n      return _Object$assign({}, state, { isPublished: action.isPublished });\n    },\n    [SET_EDIT_MODE]() {\n      return _Object$assign({},\n      state, {\n        editMode: action.editMode,\n        builderPaneType: action.editMode ?\n        BUILDER_PANE_TYPE.ADD_COMPONENTS :\n        BUILDER_PANE_TYPE.NONE });\n\n    },\n    [SET_MAX_UNDO_HISTORY_EXCEEDED]() {\n      const { maxUndoHistoryExceeded = true } = action.payload;\n      return _Object$assign({}, state, { maxUndoHistoryExceeded });\n    },\n    [SHOW_BUILDER_PANE]() {\n      return _Object$assign({}, state, { builderPaneType: action.builderPaneType });\n    },\n    [SET_COLOR_SCHEME]() {\n      return _Object$assign({},\n      state, {\n        colorScheme: action.colorScheme,\n        updatedColorScheme: true });\n\n    },\n    [TOGGLE_EXPAND_SLICE]() {\n      const updatedExpandedSlices = _Object$assign({}, state.expandedSlices);\n      const sliceId = action.sliceId;\n      if (updatedExpandedSlices[sliceId]) {\n        delete updatedExpandedSlices[sliceId];\n      } else {\n        updatedExpandedSlices[sliceId] = true;\n      }\n      return _Object$assign({}, state, { expandedSlices: updatedExpandedSlices });\n    },\n    [ON_CHANGE]() {\n      return _Object$assign({}, state, { hasUnsavedChanges: true });\n    },\n    [ON_SAVE]() {\n      return _Object$assign({},\n      state, {\n        hasUnsavedChanges: false,\n        maxUndoHistoryExceeded: false,\n        editMode: false,\n        builderPaneType: BUILDER_PANE_TYPE.NONE,\n        updatedColorScheme: false });\n\n    },\n    [SET_UNSAVED_CHANGES]() {\n      const { hasUnsavedChanges } = action.payload;\n      return _Object$assign({}, state, { hasUnsavedChanges });\n    },\n    [SET_REFRESH_FREQUENCY]() {\n      return _Object$assign({},\n      state, {\n        refreshFrequency: action.refreshFrequency,\n        shouldPersistRefreshFrequency: action.isPersistent,\n        hasUnsavedChanges: action.isPersistent });\n\n    },\n    [SET_DIRECT_PATH]() {\n      return _Object$assign({},\n      state, {\n        directPathToChild: action.path,\n        directPathLastUpdated: _Date$now() });\n\n    },\n    [SET_FOCUSED_FILTER_FIELD]() {\n      const { focusedFilterField } = state;\n      if (action.chartId && action.column) {\n        focusedFilterField.push({\n          chartId: action.chartId,\n          column: action.column });\n\n      } else {\n        focusedFilterField.shift();\n      }\n      return _Object$assign({},\n      state, {\n        focusedFilterField });\n\n    } };\n\n\n  if (action.type in actionHandlers) {\n    return actionHandlers[action.type]();\n  }\n  return state;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(dashboardStateReducer, \"dashboardStateReducer\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/reducers/dashboardState.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}