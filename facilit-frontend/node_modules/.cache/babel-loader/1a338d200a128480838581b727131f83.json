{"ast":null,"code":"import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactable-arc';\nimport { FormControl, Modal } from 'react-bootstrap';\nimport { SupersetClient } from '@superset-ui/connection';\nimport { t } from '@superset-ui/translation';\n\nimport getClientErrorObject from '../utils/getClientErrorObject';\nimport Loading from '../components/Loading';\nimport withToasts from '../messageToasts/enhancers/withToasts';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  addDangerToast: PropTypes.func.isRequired,\n  onChange: PropTypes.func,\n  onDatasourceSave: PropTypes.func,\n  onHide: PropTypes.func,\n  show: PropTypes.bool.isRequired };\n\n\nconst defaultProps = {\n  onChange: () => {},\n  onDatasourceSave: () => {},\n  onHide: () => {} };\n\n\nconst TABLE_COLUMNS = ['name', 'type', 'schema', 'connection', 'creator'];\nconst TABLE_FILTERABLE = ['rawName', 'type', 'schema', 'connection', 'creator'];\n\nclass ChangeDatasourceModal extends React.PureComponent {\n  constructor(props) {var _context, _context2, _context3, _context4;\n    super(props);\n    this.state = {\n      loading: true,\n      datasources: null };\n\n    this.setSearchRef = _bindInstanceProperty(_context = this.setSearchRef).call(_context, this);\n    this.onEnterModal = _bindInstanceProperty(_context2 = this.onEnterModal).call(_context2, this);\n    this.selectDatasource = _bindInstanceProperty(_context3 = this.selectDatasource).call(_context3, this);\n    this.changeSearch = _bindInstanceProperty(_context4 = this.changeSearch).call(_context4, this);\n  }\n\n  onEnterModal() {\n    if (this.searchRef) {\n      this.searchRef.focus();\n    }\n    if (!this.state.datasources) {\n      SupersetClient.get({\n        endpoint: '/superset/datasources/' }).\n\n      then(({ json }) => {\n        const datasources = _mapInstanceProperty(json).call(json, ds => {var _context5;return {\n            rawName: ds.name,\n            connection: ds.connection,\n            schema: ds.schema,\n            name:\n            ___EmotionJSX(\"a\", {\n              href: \"#\",\n              onClick: _bindInstanceProperty(_context5 = this.selectDatasource).call(_context5, this, ds),\n              className: \"datasource-link\", __source: { fileName: _jsxFileName, lineNumber: 74 }, __self: this },\n\n            ds.name),\n\n\n            type: ds.type };});\n\n\n        this.setState({ loading: false, datasources });\n      }).\n      catch(response => {\n        this.setState({ loading: false });\n        getClientErrorObject(response).then(({ error }) => {\n          this.props.addDangerToast(error.error || error.statusText || error);\n        });\n      });\n    }\n  }\n\n  setSearchRef(searchRef) {\n    this.searchRef = searchRef;\n  }\n\n  changeSearch(event) {\n    this.setState({ filter: event.target.value });\n  }\n\n  selectDatasource(datasource) {\n    SupersetClient.get({\n      endpoint: \"/datasource/get/\" + datasource.type + \"/\" + datasource.id }).\n\n    then(({ json }) => {\n      this.props.onDatasourceSave(json);\n      this.props.onChange(datasource.uid);\n    }).\n    catch(response => {\n      getClientErrorObject(response).then(({ error, message }) => {\n        const errorMessage = error ?\n        error.error || error.statusText || error :\n        message;\n        this.props.addDangerToast(errorMessage);\n      });\n    });\n    this.props.onHide();\n  }\n\n  render() {\n    const { datasources, filter, loading } = this.state;\n    const { show, onHide } = this.props;\n\n    return (\n      ___EmotionJSX(Modal, {\n        show: show,\n        onHide: onHide,\n        onEnter: this.onEnterModal,\n        onExit: this.setSearchRef,\n        bsSize: \"lg\", __source: { fileName: _jsxFileName, lineNumber: 128 }, __self: this },\n\n      ___EmotionJSX(Modal.Header, { closeButton: true, __source: { fileName: _jsxFileName, lineNumber: 135 }, __self: this },\n      ___EmotionJSX(Modal.Title, { __source: { fileName: _jsxFileName, lineNumber: 136 }, __self: this }, t('Select a datasource'))),\n\n      ___EmotionJSX(Modal.Body, { __source: { fileName: _jsxFileName, lineNumber: 138 }, __self: this },\n      ___EmotionJSX(\"div\", { __source: { fileName: _jsxFileName, lineNumber: 139 }, __self: this },\n      ___EmotionJSX(FormControl, {\n        inputRef: ref => {\n          this.setSearchRef(ref);\n        },\n        type: \"text\",\n        bsSize: \"sm\",\n        value: filter,\n        placeholder: t('Search / Filter'),\n        onChange: this.changeSearch, __source: { fileName: _jsxFileName, lineNumber: 140 }, __self: this })),\n\n\n      loading && ___EmotionJSX(Loading, { __source: { fileName: _jsxFileName, lineNumber: 151 }, __self: this }),\n      datasources &&\n      ___EmotionJSX(Table, {\n        columns: TABLE_COLUMNS,\n        className: \"table table-condensed\",\n        data: datasources,\n        itemsPerPage: 20,\n        filterable: TABLE_FILTERABLE,\n        filterBy: filter,\n        hideFilterInput: true, __source: { fileName: _jsxFileName, lineNumber: 153 }, __self: this }))));\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nChangeDatasourceModal.propTypes = propTypes;\nChangeDatasourceModal.defaultProps = defaultProps;const _default =\n\nwithToasts(ChangeDatasourceModal);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\");reactHotLoader.register(TABLE_COLUMNS, \"TABLE_COLUMNS\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\");reactHotLoader.register(TABLE_FILTERABLE, \"TABLE_FILTERABLE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\");reactHotLoader.register(ChangeDatasourceModal, \"ChangeDatasourceModal\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/datasource/ChangeDatasourceModal.jsx"],"names":["React","PropTypes","Table","FormControl","Modal","SupersetClient","t","getClientErrorObject","Loading","withToasts","propTypes","addDangerToast","func","isRequired","onChange","onDatasourceSave","onHide","show","bool","defaultProps","TABLE_COLUMNS","TABLE_FILTERABLE","ChangeDatasourceModal","PureComponent","constructor","props","state","loading","datasources","setSearchRef","onEnterModal","selectDatasource","changeSearch","searchRef","focus","get","endpoint","then","json","ds","rawName","name","connection","schema","type","setState","catch","response","error","statusText","event","filter","target","value","datasource","id","uid","message","errorMessage","render","ref"],"mappings":"ilBAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,WAAT,EAAsBC,KAAtB,QAAmC,iBAAnC;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,CAAT,QAAkB,0BAAlB;;AAEA,OAAOC,oBAAP,MAAiC,+BAAjC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,UAAP,MAAuB,uCAAvB,C;;AAEA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,cAAc,EAAEV,SAAS,CAACW,IAAV,CAAeC,UADf;AAEhBC,EAAAA,QAAQ,EAAEb,SAAS,CAACW,IAFJ;AAGhBG,EAAAA,gBAAgB,EAAEd,SAAS,CAACW,IAHZ;AAIhBI,EAAAA,MAAM,EAAEf,SAAS,CAACW,IAJF;AAKhBK,EAAAA,IAAI,EAAEhB,SAAS,CAACiB,IAAV,CAAeL,UALL,EAAlB;;;AAQA,MAAMM,YAAY,GAAG;AACnBL,EAAAA,QAAQ,EAAE,MAAM,CAAE,CADC;AAEnBC,EAAAA,gBAAgB,EAAE,MAAM,CAAE,CAFP;AAGnBC,EAAAA,MAAM,EAAE,MAAM,CAAE,CAHG,EAArB;;;AAMA,MAAMI,aAAa,GAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,QAAjB,EAA2B,YAA3B,EAAyC,SAAzC,CAAtB;AACA,MAAMC,gBAAgB,GAAG,CAAC,SAAD,EAAY,MAAZ,EAAoB,QAApB,EAA8B,YAA9B,EAA4C,SAA5C,CAAzB;;AAEA,MAAMC,qBAAN,SAAoCtB,KAAK,CAACuB,aAA1C,CAAwD;AACtDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,WAAW,EAAE,IAFF,EAAb;;AAIA,SAAKC,YAAL,GAAoB,sCAAKA,YAAL,iBAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,uCAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKC,gBAAL,GAAwB,uCAAKA,gBAAL,kBAA2B,IAA3B,CAAxB;AACA,SAAKC,YAAL,GAAoB,uCAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACD;;AAEDF,EAAAA,YAAY,GAAG;AACb,QAAI,KAAKG,SAAT,EAAoB;AAClB,WAAKA,SAAL,CAAeC,KAAf;AACD;AACD,QAAI,CAAC,KAAKR,KAAL,CAAWE,WAAhB,EAA6B;AAC3BvB,MAAAA,cAAc,CAAC8B,GAAf,CAAmB;AACjBC,QAAAA,QAAQ,EAAE,wBADO,EAAnB;;AAGGC,MAAAA,IAHH,CAGQ,CAAC,EAAEC,IAAF,EAAD,KAAc;AAClB,cAAMV,WAAW,GAAG,qBAAAU,IAAI,MAAJ,CAAAA,IAAI,EAAKC,EAAE,0BAAK;AAClCC,YAAAA,OAAO,EAAED,EAAE,CAACE,IADsB;AAElCC,YAAAA,UAAU,EAAEH,EAAE,CAACG,UAFmB;AAGlCC,YAAAA,MAAM,EAAEJ,EAAE,CAACI,MAHuB;AAIlCF,YAAAA,IAAI;AACF;AACE,cAAA,IAAI,EAAC,GADP;AAEE,cAAA,OAAO,EAAE,uCAAKV,gBAAL,kBAA2B,IAA3B,EAAiCQ,EAAjC,CAFX;AAGE,cAAA,SAAS,EAAC,iBAHZ;;AAKGA,YAAAA,EAAE,CAACE,IALN,CALgC;;;AAalCG,YAAAA,IAAI,EAAEL,EAAE,CAACK,IAbyB,EAAL,EAAP,CAAxB;;;AAgBA,aAAKC,QAAL,CAAc,EAAElB,OAAO,EAAE,KAAX,EAAkBC,WAAlB,EAAd;AACD,OArBH;AAsBGkB,MAAAA,KAtBH,CAsBSC,QAAQ,IAAI;AACjB,aAAKF,QAAL,CAAc,EAAElB,OAAO,EAAE,KAAX,EAAd;AACApB,QAAAA,oBAAoB,CAACwC,QAAD,CAApB,CAA+BV,IAA/B,CAAoC,CAAC,EAAEW,KAAF,EAAD,KAAe;AACjD,eAAKvB,KAAL,CAAWd,cAAX,CAA0BqC,KAAK,CAACA,KAAN,IAAeA,KAAK,CAACC,UAArB,IAAmCD,KAA7D;AACD,SAFD;AAGD,OA3BH;AA4BD;AACF;;AAEDnB,EAAAA,YAAY,CAACI,SAAD,EAAY;AACtB,SAAKA,SAAL,GAAiBA,SAAjB;AACD;;AAEDD,EAAAA,YAAY,CAACkB,KAAD,EAAQ;AAClB,SAAKL,QAAL,CAAc,EAAEM,MAAM,EAAED,KAAK,CAACE,MAAN,CAAaC,KAAvB,EAAd;AACD;;AAEDtB,EAAAA,gBAAgB,CAACuB,UAAD,EAAa;AAC3BjD,IAAAA,cAAc,CAAC8B,GAAf,CAAmB;AACjBC,MAAAA,QAAQ,uBAAqBkB,UAAU,CAACV,IAAhC,SAAwCU,UAAU,CAACC,EAD1C,EAAnB;;AAGGlB,IAAAA,IAHH,CAGQ,CAAC,EAAEC,IAAF,EAAD,KAAc;AAClB,WAAKb,KAAL,CAAWV,gBAAX,CAA4BuB,IAA5B;AACA,WAAKb,KAAL,CAAWX,QAAX,CAAoBwC,UAAU,CAACE,GAA/B;AACD,KANH;AAOGV,IAAAA,KAPH,CAOSC,QAAQ,IAAI;AACjBxC,MAAAA,oBAAoB,CAACwC,QAAD,CAApB,CAA+BV,IAA/B,CAAoC,CAAC,EAAEW,KAAF,EAASS,OAAT,EAAD,KAAwB;AAC1D,cAAMC,YAAY,GAAGV,KAAK;AACtBA,QAAAA,KAAK,CAACA,KAAN,IAAeA,KAAK,CAACC,UAArB,IAAmCD,KADb;AAEtBS,QAAAA,OAFJ;AAGA,aAAKhC,KAAL,CAAWd,cAAX,CAA0B+C,YAA1B;AACD,OALD;AAMD,KAdH;AAeA,SAAKjC,KAAL,CAAWT,MAAX;AACD;;AAED2C,EAAAA,MAAM,GAAG;AACP,UAAM,EAAE/B,WAAF,EAAeuB,MAAf,EAAuBxB,OAAvB,KAAmC,KAAKD,KAA9C;AACA,UAAM,EAAET,IAAF,EAAQD,MAAR,KAAmB,KAAKS,KAA9B;;AAEA;AACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAER,IADR;AAEE,QAAA,MAAM,EAAED,MAFV;AAGE,QAAA,OAAO,EAAE,KAAKc,YAHhB;AAIE,QAAA,MAAM,EAAE,KAAKD,YAJf;AAKE,QAAA,MAAM,EAAC,IALT;;AAOE,oBAAC,KAAD,CAAO,MAAP,IAAc,WAAW,MAAzB;AACE,oBAAC,KAAD,CAAO,KAAP,2EAAcvB,CAAC,CAAC,qBAAD,CAAf,CADF,CAPF;;AAUE,oBAAC,KAAD,CAAO,IAAP;AACE;AACE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAEsD,GAAG,IAAI;AACf,eAAK/B,YAAL,CAAkB+B,GAAlB;AACD,SAHH;AAIE,QAAA,IAAI,EAAC,MAJP;AAKE,QAAA,MAAM,EAAC,IALT;AAME,QAAA,KAAK,EAAET,MANT;AAOE,QAAA,WAAW,EAAE7C,CAAC,CAAC,iBAAD,CAPhB;AAQE,QAAA,QAAQ,EAAE,KAAK0B,YARjB,wEADF,CADF;;;AAaGL,MAAAA,OAAO,IAAI,cAAC,OAAD,0EAbd;AAcGC,MAAAA,WAAW;AACV,oBAAC,KAAD;AACE,QAAA,OAAO,EAAER,aADX;AAEE,QAAA,SAAS,EAAC,uBAFZ;AAGE,QAAA,IAAI,EAAEQ,WAHR;AAIE,QAAA,YAAY,EAAE,EAJhB;AAKE,QAAA,UAAU,EAAEP,gBALd;AAME,QAAA,QAAQ,EAAE8B,MANZ;AAOE,QAAA,eAAe,MAPjB,wEAfJ,CAVF,CADF;;;;;;AAuCD,GAvHqD;AAAA;AAAA;AA0HxD7B,qBAAqB,CAACZ,SAAtB,GAAkCA,SAAlC;AACAY,qBAAqB,CAACH,YAAtB,GAAqCA,YAArC,C;;AAEeV,UAAU,CAACa,qBAAD,C,CAAzB,wB,iLA9IMZ,S,gJAQAS,Y,mJAMAC,a,oJACAC,gB,uJAEAC,qB","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactable-arc';\nimport { FormControl, Modal } from 'react-bootstrap';\nimport { SupersetClient } from '@superset-ui/connection';\nimport { t } from '@superset-ui/translation';\n\nimport getClientErrorObject from '../utils/getClientErrorObject';\nimport Loading from '../components/Loading';\nimport withToasts from '../messageToasts/enhancers/withToasts';\n\nconst propTypes = {\n  addDangerToast: PropTypes.func.isRequired,\n  onChange: PropTypes.func,\n  onDatasourceSave: PropTypes.func,\n  onHide: PropTypes.func,\n  show: PropTypes.bool.isRequired,\n};\n\nconst defaultProps = {\n  onChange: () => {},\n  onDatasourceSave: () => {},\n  onHide: () => {},\n};\n\nconst TABLE_COLUMNS = ['name', 'type', 'schema', 'connection', 'creator'];\nconst TABLE_FILTERABLE = ['rawName', 'type', 'schema', 'connection', 'creator'];\n\nclass ChangeDatasourceModal extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      datasources: null,\n    };\n    this.setSearchRef = this.setSearchRef.bind(this);\n    this.onEnterModal = this.onEnterModal.bind(this);\n    this.selectDatasource = this.selectDatasource.bind(this);\n    this.changeSearch = this.changeSearch.bind(this);\n  }\n\n  onEnterModal() {\n    if (this.searchRef) {\n      this.searchRef.focus();\n    }\n    if (!this.state.datasources) {\n      SupersetClient.get({\n        endpoint: '/superset/datasources/',\n      })\n        .then(({ json }) => {\n          const datasources = json.map(ds => ({\n            rawName: ds.name,\n            connection: ds.connection,\n            schema: ds.schema,\n            name: (\n              <a\n                href=\"#\"\n                onClick={this.selectDatasource.bind(this, ds)}\n                className=\"datasource-link\"\n              >\n                {ds.name}\n              </a>\n            ),\n            type: ds.type,\n          }));\n\n          this.setState({ loading: false, datasources });\n        })\n        .catch(response => {\n          this.setState({ loading: false });\n          getClientErrorObject(response).then(({ error }) => {\n            this.props.addDangerToast(error.error || error.statusText || error);\n          });\n        });\n    }\n  }\n\n  setSearchRef(searchRef) {\n    this.searchRef = searchRef;\n  }\n\n  changeSearch(event) {\n    this.setState({ filter: event.target.value });\n  }\n\n  selectDatasource(datasource) {\n    SupersetClient.get({\n      endpoint: `/datasource/get/${datasource.type}/${datasource.id}`,\n    })\n      .then(({ json }) => {\n        this.props.onDatasourceSave(json);\n        this.props.onChange(datasource.uid);\n      })\n      .catch(response => {\n        getClientErrorObject(response).then(({ error, message }) => {\n          const errorMessage = error\n            ? error.error || error.statusText || error\n            : message;\n          this.props.addDangerToast(errorMessage);\n        });\n      });\n    this.props.onHide();\n  }\n\n  render() {\n    const { datasources, filter, loading } = this.state;\n    const { show, onHide } = this.props;\n\n    return (\n      <Modal\n        show={show}\n        onHide={onHide}\n        onEnter={this.onEnterModal}\n        onExit={this.setSearchRef}\n        bsSize=\"lg\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{t('Select a datasource')}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div>\n            <FormControl\n              inputRef={ref => {\n                this.setSearchRef(ref);\n              }}\n              type=\"text\"\n              bsSize=\"sm\"\n              value={filter}\n              placeholder={t('Search / Filter')}\n              onChange={this.changeSearch}\n            />\n          </div>\n          {loading && <Loading />}\n          {datasources && (\n            <Table\n              columns={TABLE_COLUMNS}\n              className=\"table table-condensed\"\n              data={datasources}\n              itemsPerPage={20}\n              filterable={TABLE_FILTERABLE}\n              filterBy={filter}\n              hideFilterInput\n            />\n          )}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nChangeDatasourceModal.propTypes = propTypes;\nChangeDatasourceModal.defaultProps = defaultProps;\n\nexport default withToasts(ChangeDatasourceModal);\n"]},"metadata":{},"sourceType":"module"}