{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                         * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                         * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                         * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                         * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                         * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                         * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                         * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                         *\n                                                                                                                                                                                                                                                                                                         *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                         *\n                                                                                                                                                                                                                                                                                                         * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                         * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                         * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                         * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                         * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                         * under the License.\n                                                                                                                                                                                                                                                                                                         */\n/* eslint camelcase: 0 */\nimport { t } from '@superset-ui/translation';\nimport { SupersetClient } from '@superset-ui/connection';\nimport { addDangerToast } from '../../messageToasts/actions';\n\nconst FAVESTAR_BASE_URL = '/superset/favstar/slice';\n\nexport const SET_DATASOURCE_TYPE = 'SET_DATASOURCE_TYPE';\nexport function setDatasourceType(datasourceType) {\n  return { type: SET_DATASOURCE_TYPE, datasourceType };\n}\n\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\nexport function setDatasource(datasource) {\n  return { type: SET_DATASOURCE, datasource };\n}\n\nexport const SET_DATASOURCES = 'SET_DATASOURCES';\nexport function setDatasources(datasources) {\n  return { type: SET_DATASOURCES, datasources };\n}\n\nexport const POST_DATASOURCE_STARTED = 'POST_DATASOURCE_STARTED';\nexport const FETCH_DATASOURCE_SUCCEEDED = 'FETCH_DATASOURCE_SUCCEEDED';\nexport function fetchDatasourceSucceeded() {\n  return { type: FETCH_DATASOURCE_SUCCEEDED };\n}\n\nexport const FETCH_DATASOURCES_STARTED = 'FETCH_DATASOURCES_STARTED';\nexport function fetchDatasourcesStarted() {\n  return { type: FETCH_DATASOURCES_STARTED };\n}\n\nexport const FETCH_DATASOURCES_SUCCEEDED = 'FETCH_DATASOURCES_SUCCEEDED';\nexport function fetchDatasourcesSucceeded() {\n  return { type: FETCH_DATASOURCES_SUCCEEDED };\n}\n\nexport const FETCH_DATASOURCES_FAILED = 'FETCH_DATASOURCES_FAILED';\nexport function fetchDatasourcesFailed(error) {\n  return { type: FETCH_DATASOURCES_FAILED, error };\n}\n\nexport const POST_DATASOURCES_FAILED = 'POST_DATASOURCES_FAILED';\nexport function postDatasourcesFailed(error) {\n  return { type: POST_DATASOURCES_FAILED, error };\n}\n\nexport const RESET_FIELDS = 'RESET_FIELDS';\nexport function resetControls() {\n  return { type: RESET_FIELDS };\n}\n\nexport const TOGGLE_FAVE_STAR = 'TOGGLE_FAVE_STAR';\nexport function toggleFaveStar(isStarred) {\n  return { type: TOGGLE_FAVE_STAR, isStarred };\n}\n\nexport const FETCH_FAVE_STAR = 'FETCH_FAVE_STAR';\nexport function fetchFaveStar(sliceId) {\n  return function (dispatch) {\n    SupersetClient.get({\n      endpoint: FAVESTAR_BASE_URL + \"/\" + sliceId + \"/count\" }).\n    then(({ json }) => {\n      if (json.count > 0) {\n        dispatch(toggleFaveStar(true));\n      }\n    });\n  };\n}\n\nexport const SAVE_FAVE_STAR = 'SAVE_FAVE_STAR';\nexport function saveFaveStar(sliceId, isStarred) {\n  return function (dispatch) {\n    const urlSuffix = isStarred ? 'unselect' : 'select';\n    SupersetClient.get({\n      endpoint: FAVESTAR_BASE_URL + \"/\" + sliceId + \"/\" + urlSuffix + \"/\" }).\n\n    then(() => dispatch(toggleFaveStar(!isStarred))).\n    catch(() =>\n    dispatch(\n    addDangerToast(t('An error occurred while starring this chart'))));\n\n\n  };\n}\n\nexport const SET_FIELD_VALUE = 'SET_FIELD_VALUE';\nexport function setControlValue(controlName, value, validationErrors) {\n  return { type: SET_FIELD_VALUE, controlName, value, validationErrors };\n}\n\nexport const UPDATE_EXPLORE_ENDPOINTS = 'UPDATE_EXPLORE_ENDPOINTS';\nexport function updateExploreEndpoints(jsonUrl, csvUrl, standaloneUrl) {\n  return { type: UPDATE_EXPLORE_ENDPOINTS, jsonUrl, csvUrl, standaloneUrl };\n}\n\nexport const SET_EXPLORE_CONTROLS = 'UPDATE_EXPLORE_CONTROLS';\nexport function setExploreControls(formData) {\n  return { type: SET_EXPLORE_CONTROLS, formData };\n}\n\nexport const REMOVE_CONTROL_PANEL_ALERT = 'REMOVE_CONTROL_PANEL_ALERT';\nexport function removeControlPanelAlert() {\n  return { type: REMOVE_CONTROL_PANEL_ALERT };\n}\n\nexport const UPDATE_CHART_TITLE = 'UPDATE_CHART_TITLE';\nexport function updateChartTitle(sliceName) {\n  return { type: UPDATE_CHART_TITLE, sliceName };\n}\n\nexport const CREATE_NEW_SLICE = 'CREATE_NEW_SLICE';\nexport function createNewSlice(\ncan_add,\ncan_download,\ncan_overwrite,\nslice,\nform_data)\n{\n  return {\n    type: CREATE_NEW_SLICE,\n    can_add,\n    can_download,\n    can_overwrite,\n    slice,\n    form_data };\n\n}\n\nexport const SLICE_UPDATED = 'SLICE_UPDATED';\nexport function sliceUpdated(slice) {\n  return { type: SLICE_UPDATED, slice };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(FAVESTAR_BASE_URL, \"FAVESTAR_BASE_URL\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SET_DATASOURCE_TYPE, \"SET_DATASOURCE_TYPE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(setDatasourceType, \"setDatasourceType\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SET_DATASOURCE, \"SET_DATASOURCE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(setDatasource, \"setDatasource\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SET_DATASOURCES, \"SET_DATASOURCES\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(setDatasources, \"setDatasources\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(POST_DATASOURCE_STARTED, \"POST_DATASOURCE_STARTED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(FETCH_DATASOURCE_SUCCEEDED, \"FETCH_DATASOURCE_SUCCEEDED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(fetchDatasourceSucceeded, \"fetchDatasourceSucceeded\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(FETCH_DATASOURCES_STARTED, \"FETCH_DATASOURCES_STARTED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(fetchDatasourcesStarted, \"fetchDatasourcesStarted\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(FETCH_DATASOURCES_SUCCEEDED, \"FETCH_DATASOURCES_SUCCEEDED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(fetchDatasourcesSucceeded, \"fetchDatasourcesSucceeded\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(FETCH_DATASOURCES_FAILED, \"FETCH_DATASOURCES_FAILED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(fetchDatasourcesFailed, \"fetchDatasourcesFailed\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(POST_DATASOURCES_FAILED, \"POST_DATASOURCES_FAILED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(postDatasourcesFailed, \"postDatasourcesFailed\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(RESET_FIELDS, \"RESET_FIELDS\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(resetControls, \"resetControls\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(TOGGLE_FAVE_STAR, \"TOGGLE_FAVE_STAR\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(toggleFaveStar, \"toggleFaveStar\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(FETCH_FAVE_STAR, \"FETCH_FAVE_STAR\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(fetchFaveStar, \"fetchFaveStar\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SAVE_FAVE_STAR, \"SAVE_FAVE_STAR\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(saveFaveStar, \"saveFaveStar\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SET_FIELD_VALUE, \"SET_FIELD_VALUE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(setControlValue, \"setControlValue\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(UPDATE_EXPLORE_ENDPOINTS, \"UPDATE_EXPLORE_ENDPOINTS\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(updateExploreEndpoints, \"updateExploreEndpoints\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SET_EXPLORE_CONTROLS, \"SET_EXPLORE_CONTROLS\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(setExploreControls, \"setExploreControls\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(REMOVE_CONTROL_PANEL_ALERT, \"REMOVE_CONTROL_PANEL_ALERT\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(removeControlPanelAlert, \"removeControlPanelAlert\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(UPDATE_CHART_TITLE, \"UPDATE_CHART_TITLE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(updateChartTitle, \"updateChartTitle\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(CREATE_NEW_SLICE, \"CREATE_NEW_SLICE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(createNewSlice, \"createNewSlice\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(SLICE_UPDATED, \"SLICE_UPDATED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");reactHotLoader.register(sliceUpdated, \"sliceUpdated\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/actions/exploreActions.js"],"names":["t","SupersetClient","addDangerToast","FAVESTAR_BASE_URL","SET_DATASOURCE_TYPE","setDatasourceType","datasourceType","type","SET_DATASOURCE","setDatasource","datasource","SET_DATASOURCES","setDatasources","datasources","POST_DATASOURCE_STARTED","FETCH_DATASOURCE_SUCCEEDED","fetchDatasourceSucceeded","FETCH_DATASOURCES_STARTED","fetchDatasourcesStarted","FETCH_DATASOURCES_SUCCEEDED","fetchDatasourcesSucceeded","FETCH_DATASOURCES_FAILED","fetchDatasourcesFailed","error","POST_DATASOURCES_FAILED","postDatasourcesFailed","RESET_FIELDS","resetControls","TOGGLE_FAVE_STAR","toggleFaveStar","isStarred","FETCH_FAVE_STAR","fetchFaveStar","sliceId","dispatch","get","endpoint","then","json","count","SAVE_FAVE_STAR","saveFaveStar","urlSuffix","catch","SET_FIELD_VALUE","setControlValue","controlName","value","validationErrors","UPDATE_EXPLORE_ENDPOINTS","updateExploreEndpoints","jsonUrl","csvUrl","standaloneUrl","SET_EXPLORE_CONTROLS","setExploreControls","formData","REMOVE_CONTROL_PANEL_ALERT","removeControlPanelAlert","UPDATE_CHART_TITLE","updateChartTitle","sliceName","CREATE_NEW_SLICE","createNewSlice","can_add","can_download","can_overwrite","slice","form_data","SLICE_UPDATED","sliceUpdated"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport { t } from '@superset-ui/translation';\nimport { SupersetClient } from '@superset-ui/connection';\nimport { addDangerToast } from '../../messageToasts/actions';\n\nconst FAVESTAR_BASE_URL = '/superset/favstar/slice';\n\nexport const SET_DATASOURCE_TYPE = 'SET_DATASOURCE_TYPE';\nexport function setDatasourceType(datasourceType) {\n  return { type: SET_DATASOURCE_TYPE, datasourceType };\n}\n\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\nexport function setDatasource(datasource) {\n  return { type: SET_DATASOURCE, datasource };\n}\n\nexport const SET_DATASOURCES = 'SET_DATASOURCES';\nexport function setDatasources(datasources) {\n  return { type: SET_DATASOURCES, datasources };\n}\n\nexport const POST_DATASOURCE_STARTED = 'POST_DATASOURCE_STARTED';\nexport const FETCH_DATASOURCE_SUCCEEDED = 'FETCH_DATASOURCE_SUCCEEDED';\nexport function fetchDatasourceSucceeded() {\n  return { type: FETCH_DATASOURCE_SUCCEEDED };\n}\n\nexport const FETCH_DATASOURCES_STARTED = 'FETCH_DATASOURCES_STARTED';\nexport function fetchDatasourcesStarted() {\n  return { type: FETCH_DATASOURCES_STARTED };\n}\n\nexport const FETCH_DATASOURCES_SUCCEEDED = 'FETCH_DATASOURCES_SUCCEEDED';\nexport function fetchDatasourcesSucceeded() {\n  return { type: FETCH_DATASOURCES_SUCCEEDED };\n}\n\nexport const FETCH_DATASOURCES_FAILED = 'FETCH_DATASOURCES_FAILED';\nexport function fetchDatasourcesFailed(error) {\n  return { type: FETCH_DATASOURCES_FAILED, error };\n}\n\nexport const POST_DATASOURCES_FAILED = 'POST_DATASOURCES_FAILED';\nexport function postDatasourcesFailed(error) {\n  return { type: POST_DATASOURCES_FAILED, error };\n}\n\nexport const RESET_FIELDS = 'RESET_FIELDS';\nexport function resetControls() {\n  return { type: RESET_FIELDS };\n}\n\nexport const TOGGLE_FAVE_STAR = 'TOGGLE_FAVE_STAR';\nexport function toggleFaveStar(isStarred) {\n  return { type: TOGGLE_FAVE_STAR, isStarred };\n}\n\nexport const FETCH_FAVE_STAR = 'FETCH_FAVE_STAR';\nexport function fetchFaveStar(sliceId) {\n  return function (dispatch) {\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/count`,\n    }).then(({ json }) => {\n      if (json.count > 0) {\n        dispatch(toggleFaveStar(true));\n      }\n    });\n  };\n}\n\nexport const SAVE_FAVE_STAR = 'SAVE_FAVE_STAR';\nexport function saveFaveStar(sliceId, isStarred) {\n  return function (dispatch) {\n    const urlSuffix = isStarred ? 'unselect' : 'select';\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/${urlSuffix}/`,\n    })\n      .then(() => dispatch(toggleFaveStar(!isStarred)))\n      .catch(() =>\n        dispatch(\n          addDangerToast(t('An error occurred while starring this chart')),\n        ),\n      );\n  };\n}\n\nexport const SET_FIELD_VALUE = 'SET_FIELD_VALUE';\nexport function setControlValue(controlName, value, validationErrors) {\n  return { type: SET_FIELD_VALUE, controlName, value, validationErrors };\n}\n\nexport const UPDATE_EXPLORE_ENDPOINTS = 'UPDATE_EXPLORE_ENDPOINTS';\nexport function updateExploreEndpoints(jsonUrl, csvUrl, standaloneUrl) {\n  return { type: UPDATE_EXPLORE_ENDPOINTS, jsonUrl, csvUrl, standaloneUrl };\n}\n\nexport const SET_EXPLORE_CONTROLS = 'UPDATE_EXPLORE_CONTROLS';\nexport function setExploreControls(formData) {\n  return { type: SET_EXPLORE_CONTROLS, formData };\n}\n\nexport const REMOVE_CONTROL_PANEL_ALERT = 'REMOVE_CONTROL_PANEL_ALERT';\nexport function removeControlPanelAlert() {\n  return { type: REMOVE_CONTROL_PANEL_ALERT };\n}\n\nexport const UPDATE_CHART_TITLE = 'UPDATE_CHART_TITLE';\nexport function updateChartTitle(sliceName) {\n  return { type: UPDATE_CHART_TITLE, sliceName };\n}\n\nexport const CREATE_NEW_SLICE = 'CREATE_NEW_SLICE';\nexport function createNewSlice(\n  can_add,\n  can_download,\n  can_overwrite,\n  slice,\n  form_data,\n) {\n  return {\n    type: CREATE_NEW_SLICE,\n    can_add,\n    can_download,\n    can_overwrite,\n    slice,\n    form_data,\n  };\n}\n\nexport const SLICE_UPDATED = 'SLICE_UPDATED';\nexport function sliceUpdated(slice) {\n  return { type: SLICE_UPDATED, slice };\n}\n"]},"metadata":{},"sourceType":"module"}