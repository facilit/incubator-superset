{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime-corejs3/helpers/objectWithoutPropertiesLoose\";import _findIndexInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/find-index\";import _Array$isArray from \"@babel/runtime-corejs3/core-js-stable/array/is-array\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\nimport React, { useRef, useEffect } from 'react';\nimport { FixedSizeList as WindowedList } from 'react-window';import { jsx as ___EmotionJSX } from \"@emotion/core\";\nconst DEFAULT_OPTION_HEIGHT = 30;\n/**\n                                   * Get the index of the last selected option.\n                                   */\nfunction getLastSelected(children) {\n  return _Array$isArray(children) ?\n  _findIndexInstanceProperty(children).call(children, ({ props: { isFocused = false } = {} }) => isFocused) || 0 :\n  -1;\n}\n/**\n   * Calculate probable option height as set in theme configs\n   */\nfunction detectHeight({ spacing: { baseUnit, lineHeight } }) {\n  // Option item expects 2 * baseUnit for each of top and bottom padding.\n  return baseUnit * 4 + lineHeight;\n}\nexport default function WindowedMenuList(_ref) {let { children } = _ref,props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n  const { maxHeight, selectProps, theme, getStyles, cx, innerRef, isMulti, className } = props;\n  const {\n    // Expose react-window VariableSizeList instance and HTML elements\n    windowListRef = useRef(null), windowListInnerRef } = selectProps;\n  // try get default option height from theme configs\n  let optionHeight = selectProps.optionHeight;\n  if (!optionHeight) {\n    optionHeight = theme ? detectHeight(theme) : DEFAULT_OPTION_HEIGHT;\n  }\n  const itemCount = children.length;\n  const totalHeight = optionHeight * itemCount;\n  const listRef = windowListRef || useRef(null);\n  const Row = ({ data, index, style }) => {\n    return ___EmotionJSX(\"div\", { style: style }, data[index]);\n  };\n  useEffect(() => {\n    const lastSelected = getLastSelected(children);\n    if (listRef.current && lastSelected) {\n      listRef.current.scrollToItem(lastSelected);\n    }\n  }, [children]);\n  return ___EmotionJSX(WindowedList, { css: getStyles('menuList', props)\n    // @ts-ignore\n    , className: cx({\n      'menu-list': true,\n      'menu-list--is-multi': isMulti },\n    className), ref: listRef, outerRef: innerRef, innerRef: windowListInnerRef, height: Math.min(totalHeight, maxHeight), width: \"100%\", itemData: children, itemCount: children.length, itemSize: optionHeight },\n  Row);\n\n}__signature__(WindowedMenuList, \"useRef{}\\nuseRef{}\\nuseEffect{}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DEFAULT_OPTION_HEIGHT, \"DEFAULT_OPTION_HEIGHT\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/WindowedMenuList.tsx\");reactHotLoader.register(getLastSelected, \"getLastSelected\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/WindowedMenuList.tsx\");reactHotLoader.register(detectHeight, \"detectHeight\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/WindowedMenuList.tsx\");reactHotLoader.register(WindowedMenuList, \"WindowedMenuList\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/WindowedMenuList.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}