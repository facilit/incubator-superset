{"ast":null,"code":"import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";var _context;(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'src/components/Select';\nimport { t } from '@superset-ui/translation';\nimport { Alert, Button } from 'react-bootstrap';\n\nimport ModalTrigger from '../../components/ModalTrigger';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  triggerNode: PropTypes.node.isRequired,\n  refreshFrequency: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  editMode: PropTypes.bool.isRequired,\n  refreshLimit: PropTypes.number,\n  refreshWarning: PropTypes.string };\n\n\nconst defaultProps = {\n  refreshLimit: 0,\n  refreshWarning: null };\n\n\nexport const options = _mapInstanceProperty(_context = [\n[0, t(\"Don't refresh\")],\n[10, t('10 seconds')],\n[30, t('30 seconds')],\n[60, t('1 minute')],\n[300, t('5 minutes')],\n[1800, t('30 minutes')],\n[3600, t('1 hour')],\n[21600, t('6 hours')],\n[43200, t('12 hours')],\n[86400, t('24 hours')]]).call(_context,\no => ({ value: o[0], label: o[1] }));\n\nclass RefreshIntervalModal extends React.PureComponent {\n  constructor(props) {var _context2, _context3, _context4;\n    super(props);\n    this.modalRef = React.createRef();\n    this.state = {\n      refreshFrequency: props.refreshFrequency };\n\n    this.handleFrequencyChange = _bindInstanceProperty(_context2 = this.handleFrequencyChange).call(_context2, this);\n    this.onSave = _bindInstanceProperty(_context3 = this.onSave).call(_context3, this);\n    this.onCancel = _bindInstanceProperty(_context4 = this.onCancel).call(_context4, this);\n  }\n\n  onSave() {\n    this.props.onChange(this.state.refreshFrequency, this.props.editMode);\n    this.modalRef.current.close();\n  }\n\n  onCancel() {\n    this.setState({\n      refreshFrequency: this.props.refreshFrequency });\n\n    this.modalRef.current.close();\n  }\n\n  handleFrequencyChange(opt) {\n    const value = opt ? opt.value : options[0].value;\n    this.setState({\n      refreshFrequency: value });\n\n  }\n\n  render() {\n    const { refreshLimit = 0, refreshWarning, editMode } = this.props;\n    const { refreshFrequency = 0 } = this.state;\n    const showRefreshWarning =\n    !!refreshFrequency && !!refreshWarning && refreshFrequency < refreshLimit;\n\n    return (\n      ___EmotionJSX(ModalTrigger, {\n        ref: this.modalRef,\n        triggerNode: this.props.triggerNode,\n        isMenuItem: true,\n        modalTitle: t('Refresh Interval'),\n        modalBody:\n        ___EmotionJSX(\"div\", null,\n        t('Choose the refresh frequency for this dashboard'),\n        ___EmotionJSX(Select, {\n          options: options,\n          value: this.state.refreshFrequency,\n          onChange: this.handleFrequencyChange }),\n\n        showRefreshWarning &&\n        ___EmotionJSX(\"div\", { className: \"refresh-warning-container\" },\n        ___EmotionJSX(Alert, { bsStyle: \"warning\" },\n        ___EmotionJSX(\"div\", null, refreshWarning),\n        ___EmotionJSX(\"br\", null),\n        ___EmotionJSX(\"strong\", null, t('Are you sure you want to proceed?'))))),\n\n\n\n\n\n        modalFooter:\n        ___EmotionJSX(React.Fragment, null,\n        ___EmotionJSX(Button, { bsStyle: \"primary\", onClick: this.onSave },\n        editMode ? t('Save') : t('Save for this session')),\n\n        ___EmotionJSX(Button, { onClick: this.onCancel }, t('Cancel'))) }));\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}RefreshIntervalModal.propTypes = propTypes;\nRefreshIntervalModal.defaultProps = defaultProps;const _default =\n\nRefreshIntervalModal;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/RefreshIntervalModal.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/RefreshIntervalModal.jsx\");reactHotLoader.register(options, \"options\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/RefreshIntervalModal.jsx\");reactHotLoader.register(RefreshIntervalModal, \"RefreshIntervalModal\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/RefreshIntervalModal.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/components/RefreshIntervalModal.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}