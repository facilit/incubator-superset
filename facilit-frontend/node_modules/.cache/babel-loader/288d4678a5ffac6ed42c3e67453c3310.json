{"ast":null,"code":"import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                               * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                               * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                               * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                               * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                               * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                               * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                               * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                                                                                                                                               *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                                                                                                                                               * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                               * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                               * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                               * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                               * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                               * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                               */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { t } from '@superset-ui/translation';\n\nimport Select from '../../../components/AsyncSelect';\nimport ControlHeader from '../ControlHeader';\nimport withToasts from '../../../messageToasts/enhancers/withToasts';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  dataEndpoint: PropTypes.string.isRequired,\n  multi: PropTypes.bool,\n  mutator: PropTypes.func,\n  onAsyncErrorMessage: PropTypes.string,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.number,\n  PropTypes.arrayOf(PropTypes.string),\n  PropTypes.arrayOf(PropTypes.number)]),\n\n  addDangerToast: PropTypes.func.isRequired };\n\n\nconst defaultProps = {\n  multi: true,\n  onAsyncErrorMessage: t('Error while fetching data'),\n  onChange: () => {},\n  placeholder: t('Select ...') };\n\n\nconst SelectAsyncControl = props => {\n  const {\n    value,\n    onChange,\n    dataEndpoint,\n    multi,\n    mutator,\n    placeholder,\n    onAsyncErrorMessage } =\n  props;\n  const onSelectionChange = options => {\n    let val;\n    if (multi) {\n      val = _mapInstanceProperty(options).call(options, option => option.value);\n    } else if (options) {\n      val = options.value;\n    } else {\n      val = null;\n    }\n    onChange(val);\n  };\n\n  return (\n    ___EmotionJSX(\"div\", null,\n    ___EmotionJSX(ControlHeader, props),\n    ___EmotionJSX(Select, {\n      dataEndpoint: dataEndpoint,\n      onChange: onSelectionChange,\n      onAsyncError: (errorMsg) =>\n      this.props.addDangerToast(onAsyncErrorMessage + ': ' + errorMsg),\n\n      mutator: mutator,\n      multi: multi,\n      value: value,\n      placeholder: placeholder,\n      valueRenderer: v => ___EmotionJSX(\"div\", null, v.label) })));\n\n\n\n};\n\nSelectAsyncControl.propTypes = propTypes;\nSelectAsyncControl.defaultProps = defaultProps;const _default =\n\nwithToasts(SelectAsyncControl);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/SelectAsyncControl.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/SelectAsyncControl.jsx\");reactHotLoader.register(SelectAsyncControl, \"SelectAsyncControl\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/SelectAsyncControl.jsx\");reactHotLoader.register(_default, \"default\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/explore/components/controls/SelectAsyncControl.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}