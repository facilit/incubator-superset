{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                         * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                         * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                         * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                         * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                         * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                         * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                         * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                         *\n                                                                                                                                                                                                                                                                                                         *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                         *\n                                                                                                                                                                                                                                                                                                         * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                         * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                         * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                         * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                         * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                         * under the License.\n                                                                                                                                                                                                                                                                                                         */\nimport { SupersetClient } from '@superset-ui/connection';\nimport getClientErrorObject from '../../utils/getClientErrorObject';\n\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\nexport function setDatasource(datasource, key) {\n  return { type: SET_DATASOURCE, datasource, key };\n}\n\nexport const FETCH_DATASOURCE_STARTED = 'FETCH_DATASOURCE_STARTED';\nexport function fetchDatasourceStarted(key) {\n  return { type: FETCH_DATASOURCE_STARTED, key };\n}\n\nexport const FETCH_DATASOURCE_FAILED = 'FETCH_DATASOURCE_FAILED';\nexport function fetchDatasourceFailed(error, key) {\n  return { type: FETCH_DATASOURCE_FAILED, error, key };\n}\n\nexport function fetchDatasourceMetadata(key) {\n  return (dispatch, getState) => {\n    const { datasources } = getState();\n    const datasource = datasources[key];\n\n    if (datasource) {\n      return dispatch(setDatasource(datasource, key));\n    }\n\n    return SupersetClient.get({\n      endpoint: \"/superset/fetch_datasource_metadata?datasourceKey=\" + key }).\n\n    then(({ json }) => dispatch(setDatasource(json, key))).\n    catch((response) =>\n    getClientErrorObject(response).then(({ error }) =>\n    dispatch(fetchDatasourceFailed(error, key))));\n\n\n  };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SET_DATASOURCE, \"SET_DATASOURCE\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");reactHotLoader.register(setDatasource, \"setDatasource\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");reactHotLoader.register(FETCH_DATASOURCE_STARTED, \"FETCH_DATASOURCE_STARTED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");reactHotLoader.register(fetchDatasourceStarted, \"fetchDatasourceStarted\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");reactHotLoader.register(FETCH_DATASOURCE_FAILED, \"FETCH_DATASOURCE_FAILED\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");reactHotLoader.register(fetchDatasourceFailed, \"fetchDatasourceFailed\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");reactHotLoader.register(fetchDatasourceMetadata, \"fetchDatasourceMetadata\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/actions/datasources.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}