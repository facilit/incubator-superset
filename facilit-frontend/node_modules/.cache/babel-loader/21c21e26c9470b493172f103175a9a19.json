{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _Array$isArray from \"@babel/runtime-corejs3/core-js-stable/array/is-array\";import _objectWithoutPropertiesLoose from \"@babel/runtime-corejs3/helpers/objectWithoutPropertiesLoose\";var _jsxFileName = \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/windowed.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\nimport React from 'react';\nimport { components as defaultComponents } from 'react-select';\nimport WindowedMenuList from './WindowedMenuList';import { jsx as ___EmotionJSX } from \"@emotion/core\";\nconst { MenuList: DefaultMenuList } = defaultComponents;\nexport const DEFAULT_WINDOW_THRESHOLD = 100;\nexport function MenuList(_ref) {let { children } = _ref,props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n  const { windowThreshold = DEFAULT_WINDOW_THRESHOLD } = props.selectProps;\n  if (_Array$isArray(children) && children.length > windowThreshold) {\n    // @ts-ignore\n    return ___EmotionJSX(WindowedMenuList, _extends({}, props, { __source: { fileName: _jsxFileName, lineNumber: 28 }, __self: this }), children);\n  }\n  return ___EmotionJSX(DefaultMenuList, _extends({}, props, { __source: { fileName: _jsxFileName, lineNumber: 30 }, __self: this }), children);\n}\n/**\n   * Add \"windowThreshold\" option to a react-select component, turn the options\n   * list into a virtualized list when appropriate.\n   *\n   * @param SelectComponent the React component to render Select\n   */\nexport default function windowed(SelectComponent) {\n  function WindowedSelect(props, ref) {\n    const { components: components_ = {} } = props,restProps = _objectWithoutPropertiesLoose(props, [\"components\"]);\n    const components = _Object$assign({}, components_, { MenuList });\n    return ___EmotionJSX(SelectComponent, _extends({ components: components, ref: ref }, restProps, { __source: { fileName: _jsxFileName, lineNumber: 42 }, __self: this }));\n  }\n  return React.forwardRef(WindowedSelect);\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DefaultMenuList, \"DefaultMenuList\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/windowed.tsx\");reactHotLoader.register(DEFAULT_WINDOW_THRESHOLD, \"DEFAULT_WINDOW_THRESHOLD\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/windowed.tsx\");reactHotLoader.register(MenuList, \"MenuList\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/windowed.tsx\");reactHotLoader.register(windowed, \"windowed\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/windowed.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/tiago/git-facilit/incubator-superset/superset-frontend/src/components/Select/WindowedSelect/windowed.tsx"],"names":[],"mappings":"qvBAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAO,KAAP,MAAwD,OAAxD;AACA,SAIE,UAAU,IAAI,iBAJhB,QAKO,cALP;AAMA,OAAO,gBAAP,MAAwD,oBAAxD,C;AAEA,MAAM,EAAE,QAAQ,EAAE,eAAZ,KAAgC,iBAAtC;AAEA,OAAO,MAAM,wBAAwB,GAAG,GAAjC;AAYP,OAAM,SAAU,QAAV,OAKL,KAL2D,EAC1D,QAD0D,EAK3D,QAHI,KAGJ;AACC,QAAM,EAAE,eAAe,GAAG,wBAApB,KAAiD,KAAK,CAAC,WAA7D;AACA,MAAI,eAAc,QAAd,KAA2B,QAAQ,CAAC,MAAT,GAAkB,eAAjD,EAAkE;AAChE;AACA,WAAO,cAAC,gBAAD,eAAsB,KAAtB,2EAA8B,QAA9B,CAAP;AACD;AACD,SAAO,cAAC,eAAD,eAAqB,KAArB,2EAA6B,QAA7B,CAAP;AACD;AAED;;;;;;AAMA,eAAc,SAAU,QAAV,CACZ,eADY,EAC2C;AAEvD,WAAS,cAAT,CACE,KADF,EAEE,GAFF,EAE0C;AAExC,UAAM,EAAE,UAAU,EAAE,WAAW,GAAG,EAA5B,KAAiD,KAAvD,CAAyC,SAAzC,iCAAuD,KAAvD;AACA,UAAM,UAAU,sBAAQ,WAAR,IAAqB,QAArB,GAAhB;AACA,WAAO,cAAC,eAAD,aAAiB,UAAU,EAAE,UAA7B,EAAyC,GAAG,EAAE,GAA9C,IAAuD,SAAvD,0EAAP;AACD;AACD,SAAO,KAAK,CAAC,UAAN,CAAiB,cAAjB,CAAP;AACD,C,iLA9CiB,e,+JAEL,wB,wKAYG,Q,wJAoBQ,Q","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { ComponentType, FunctionComponent } from 'react';\nimport Select, {\n  Props as SelectProps,\n  OptionTypeBase,\n  MenuListComponentProps,\n  components as defaultComponents,\n} from 'react-select';\nimport WindowedMenuList, { WindowedMenuListProps } from './WindowedMenuList';\n\nconst { MenuList: DefaultMenuList } = defaultComponents;\n\nexport const DEFAULT_WINDOW_THRESHOLD = 100;\n\nexport type WindowedSelectProps<\n  OptionType extends OptionTypeBase\n> = SelectProps<OptionType> & {\n  windowThreshold?: number;\n} & WindowedMenuListProps['selectProps'];\n\nexport type WindowedSelectComponentType<\n  OptionType extends OptionTypeBase\n> = FunctionComponent<WindowedSelectProps<OptionType>>;\n\nexport function MenuList<OptionType extends OptionTypeBase>({\n  children,\n  ...props\n}: MenuListComponentProps<OptionType> & {\n  selectProps: WindowedSelectProps<OptionType>;\n}) {\n  const { windowThreshold = DEFAULT_WINDOW_THRESHOLD } = props.selectProps;\n  if (Array.isArray(children) && children.length > windowThreshold) {\n    // @ts-ignore\n    return <WindowedMenuList {...props}>{children}</WindowedMenuList>;\n  }\n  return <DefaultMenuList {...props}>{children}</DefaultMenuList>;\n}\n\n/**\n * Add \"windowThreshold\" option to a react-select component, turn the options\n * list into a virtualized list when appropriate.\n *\n * @param SelectComponent the React component to render Select\n */\nexport default function windowed<OptionType extends OptionTypeBase>(\n  SelectComponent: ComponentType<SelectProps<OptionType>>,\n): WindowedSelectComponentType<OptionType> {\n  function WindowedSelect(\n    props: WindowedSelectProps<OptionType>,\n    ref: React.RefObject<Select<OptionType>>,\n  ) {\n    const { components: components_ = {}, ...restProps } = props;\n    const components = { ...components_, MenuList };\n    return <SelectComponent components={components} ref={ref} {...restProps} />;\n  }\n  return React.forwardRef(WindowedSelect);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}