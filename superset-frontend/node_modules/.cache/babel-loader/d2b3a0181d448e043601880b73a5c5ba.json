{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator\";import _forEachInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/for-each\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _isEqual from \"lodash/isEqual\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\nimport shortid from 'shortid';\nimport { compose } from 'redux';\nimport persistState from 'redux-localstorage';\n\nexport function addToObject(state, arrKey, obj) {\n  const newObject = _Object$assign({}, state[arrKey]);\n  const copiedObject = _Object$assign({}, obj);\n  if (!copiedObject.id) {\n    copiedObject.id = shortid.generate();\n  }\n  newObject[copiedObject.id] = copiedObject;\n  return _Object$assign({}, state, { [arrKey]: newObject });\n}\nexport function alterInObject(state, arrKey, obj, alterations) {\n  const newObject = _Object$assign({}, state[arrKey]);\n  newObject[obj.id] = _Object$assign({}, newObject[obj.id], {}, alterations);\n  return _Object$assign({}, state, { [arrKey]: newObject });\n}\nexport function alterInArr(state, arrKey, obj, alterations, idKey = 'id') {var _context;\n  // Finds an item in an array in the state and replaces it with a\n  // new object with an altered property\n  const newArr = [];\n  _forEachInstanceProperty(_context = state[arrKey]).call(_context, arrItem => {\n    if (obj[idKey] === arrItem[idKey]) {\n      newArr.push(_Object$assign({}, arrItem, {}, alterations));\n    } else\n    {\n      newArr.push(arrItem);\n    }\n  });\n  return _Object$assign({}, state, { [arrKey]: newArr });\n}\nexport function removeFromArr(state, arrKey, obj, idKey = 'id') {var _context2;\n  const newArr = [];\n  _forEachInstanceProperty(_context2 = state[arrKey]).call(_context2, arrItem => {\n    if (!(obj[idKey] === arrItem[idKey])) {\n      newArr.push(arrItem);\n    }\n  });\n  return _Object$assign({}, state, { [arrKey]: newArr });\n}\nexport function getFromArr(arr, id) {\n  let obj;\n  _forEachInstanceProperty(arr).call(arr, o => {\n    if (o.id === id) {\n      obj = o;\n    }\n  });\n  return obj;\n}\nexport function addToArr(state, arrKey, obj, prepend = false) {\n  const newObj = _Object$assign({}, obj);\n  if (!newObj.id) {\n    newObj.id = shortid.generate();\n  }\n  const newState = {};\n  if (prepend) {\n    newState[arrKey] = [newObj, ...state[arrKey]];\n  } else\n  {\n    newState[arrKey] = [...state[arrKey], newObj];\n  }\n  return _Object$assign({}, state, {}, newState);\n}\nexport function extendArr(state, arrKey, arr, prepend = false) {\n  const newArr = [...arr];\n  _forEachInstanceProperty(newArr).call(newArr, el => {\n    if (!el.id) {\n      /* eslint-disable no-param-reassign */\n      el.id = shortid.generate();\n    }\n  });\n  const newState = {};\n  if (prepend) {\n    newState[arrKey] = [...newArr, ...state[arrKey]];\n  } else\n  {\n    newState[arrKey] = [...state[arrKey], ...newArr];\n  }\n  return _Object$assign({}, state, {}, newState);\n}\nexport function initEnhancer(persist = true, persistConfig = {}) {\n  const { paths, config } = persistConfig;\n  const composeEnhancers = process.env.WEBPACK_MODE === 'development' ?\n  /* eslint-disable-next-line no-underscore-dangle, dot-notation */\n  window['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__'] || compose :\n  compose;\n  return persist ?\n  composeEnhancers(persistState(paths, config)) :\n  composeEnhancers();\n}\nexport function areArraysShallowEqual(arr1, arr2) {\n  // returns whether 2 arrays are shallow equal\n  // used in shouldComponentUpdate when denormalizing arrays\n  // where the array object is different every time, but the content might\n  // be the same\n  if (!arr1 || !arr2) {\n    return false;\n  }\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  const length = arr1.length;\n  for (let i = 0; i < length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport function areObjectsEqual(obj1, obj2) {\n  return _isEqual(obj1, obj2);\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(addToObject, \"addToObject\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(alterInObject, \"alterInObject\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(alterInArr, \"alterInArr\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(removeFromArr, \"removeFromArr\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(getFromArr, \"getFromArr\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(addToArr, \"addToArr\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(extendArr, \"extendArr\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(initEnhancer, \"initEnhancer\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(areArraysShallowEqual, \"areArraysShallowEqual\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");reactHotLoader.register(areObjectsEqual, \"areObjectsEqual\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/reduxUtils.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}