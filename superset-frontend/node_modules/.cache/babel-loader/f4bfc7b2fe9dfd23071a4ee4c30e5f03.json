{"ast":null,"code":"import \"core-js/modules/es.string.split\";import \"core-js/modules/web.dom-collections.iterator\";import _Object$entries from \"@babel/runtime-corejs3/core-js-stable/object/entries\";import _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";import _reduceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/reduce\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        */\n/* eslint-disable camelcase */\nimport { TIME_FILTER_MAP } from '../../visualizations/FilterBox/FilterBox';\nimport {\nFILTER_CONFIG_ATTRIBUTES,\nTIME_FILTER_LABELS } from\n'../../explore/constants';\n\nexport default function getFilterConfigsFromFormdata(form_data = {}) {\n  const {\n    date_filter,\n    filter_configs = [],\n    show_druid_time_granularity,\n    show_druid_time_origin,\n    show_sqla_time_column,\n    show_sqla_time_granularity } =\n  form_data;\n  let configs = _reduceInstanceProperty(filter_configs).call(filter_configs,\n  ({ columns, labels }, config) => {\n    let defaultValues = config[FILTER_CONFIG_ATTRIBUTES.DEFAULT_VALUE];\n    // defaultValue could be ; separated values,\n    // could be null or ''\n    if (\n    config[FILTER_CONFIG_ATTRIBUTES.DEFAULT_VALUE] &&\n    config[FILTER_CONFIG_ATTRIBUTES.MULTIPLE])\n    {\n      defaultValues = config.defaultValue.split(';');\n    }\n    const updatedColumns = _Object$assign({},\n    columns, {\n      [config.column]: config.vals || defaultValues });\n\n    const updatedLabels = _Object$assign({},\n    labels, {\n      [config.column]: config.label });\n\n\n    return {\n      columns: updatedColumns,\n      labels: updatedLabels };\n\n  },\n  { columns: {}, labels: {} });\n\n\n  if (date_filter) {var _context;\n    let updatedColumns = _Object$assign({},\n    configs.columns, {\n      [TIME_FILTER_MAP.time_range]: form_data.time_range });\n\n    const updatedLabels = _Object$assign({},\n    configs.labels, {},\n    _reduceInstanceProperty(_context = _Object$entries(TIME_FILTER_MAP)).call(_context,\n    (map, [key, value]) => _Object$assign({},\n    map, {\n      [value]: TIME_FILTER_LABELS[key] }),\n\n    {}));\n\n\n\n    if (show_sqla_time_granularity) {\n      updatedColumns = _Object$assign({},\n      updatedColumns, {\n        [TIME_FILTER_MAP.time_grain_sqla]: form_data.time_grain_sqla });\n\n    }\n\n    if (show_sqla_time_column) {\n      updatedColumns = _Object$assign({},\n      updatedColumns, {\n        [TIME_FILTER_MAP.granularity_sqla]: form_data.granularity_sqla });\n\n    }\n\n    if (show_druid_time_granularity) {\n      updatedColumns = _Object$assign({},\n      updatedColumns, {\n        [TIME_FILTER_MAP.granularity]: form_data.granularity });\n\n    }\n\n    if (show_druid_time_origin) {\n      updatedColumns = _Object$assign({},\n      updatedColumns, {\n        [TIME_FILTER_MAP.druid_time_origin]: form_data.druid_time_origin });\n\n    }\n\n    configs = _Object$assign({},\n    configs, {\n      columns: updatedColumns,\n      labels: updatedLabels });\n\n  }\n  return configs;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(getFilterConfigsFromFormdata, \"getFilterConfigsFromFormdata\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/dashboard/util/getFilterConfigsFromFormdata.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}