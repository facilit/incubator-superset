{"ast":null,"code":"import \"core-js/modules/es.string.split\";import _JSON$stringify from \"@babel/runtime-corejs3/core-js-stable/json/stringify\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * Licensed to the Apache Software Foundation (ASF) under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * or more contributor license agreements.  See the NOTICE file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * distributed with this work for additional information\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * regarding copyright ownership.  The ASF licenses this file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * to you under the Apache License, Version 2.0 (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * \"License\"); you may not use this file except in compliance\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * with the License.  You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             */\nimport React from 'react';\nimport { Button, Panel } from 'react-bootstrap';\nimport Select from 'src/components/Select';\nimport { t } from '@superset-ui/translation';\nimport VizTypeControl from '../explore/components/controls/VizTypeControl';import { jsx as ___EmotionJSX } from \"@emotion/core\";\nconst styleSelectWidth = { width: 600 };\nexport default class AddSliceContainer extends React.PureComponent {\n  constructor(props) {var _context, _context2, _context3;\n    super(props);\n    this.state = {\n      visType: 'table' };\n\n    this.changeDatasource = _bindInstanceProperty(_context = this.changeDatasource).call(_context, this);\n    this.changeVisType = _bindInstanceProperty(_context2 = this.changeVisType).call(_context2, this);\n    this.gotoSlice = _bindInstanceProperty(_context3 = this.gotoSlice).call(_context3, this);\n  }\n  exploreUrl() {\n    const formData = encodeURIComponent(_JSON$stringify({\n      viz_type: this.state.visType,\n      datasource: this.state.datasourceValue }));\n\n    return \"/superset/explore/?form_data=\" + formData;\n  }\n  gotoSlice() {\n    window.location.href = this.exploreUrl();\n  }\n  changeDatasource(option) {\n    this.setState({\n      datasourceValue: option.value,\n      datasourceId: option.value.split('__')[0],\n      datasourceType: option.value.split('__')[1] });\n\n  }\n  changeVisType(visType) {\n    this.setState({ visType });\n  }\n  isBtnDisabled() {\n    return !(this.state.datasourceId && this.state.visType);\n  }\n  render() {\n    return ___EmotionJSX(\"div\", { className: \"container\" },\n    ___EmotionJSX(Panel, null,\n    ___EmotionJSX(Panel.Heading, null,\n    ___EmotionJSX(\"h3\", null, t('Create a new chart'))),\n\n    ___EmotionJSX(Panel.Body, null,\n    ___EmotionJSX(\"div\", null,\n    ___EmotionJSX(\"p\", null, t('Choose a datasource')),\n    ___EmotionJSX(\"p\", null,\n    ___EmotionJSX(\"div\", { style: styleSelectWidth },\n    ___EmotionJSX(Select, { clearable: false, ignoreAccents: false, name: \"select-datasource\", onChange: this.changeDatasource, options: this.props.datasources, placeholder: t('Choose a datasource'), style: styleSelectWidth, value: this.state.datasourceValue ?\n      {\n        value: this.state.datasourceValue } :\n\n      undefined, width: 600 }))),\n\n\n    ___EmotionJSX(\"span\", { className: \"text-muted\" },\n    t('If the datasource you are looking for is not available in the list, follow the instructions on how to add it in the Superset tutorial.'), ' ',\n    ___EmotionJSX(\"a\", { href: \"https://superset.apache.org/tutorial.html#adding-a-new-table\", rel: \"noopener noreferrer\", target: \"_blank\" },\n    ___EmotionJSX(\"i\", { className: \"fa fa-external-link\" })))),\n\n\n\n    ___EmotionJSX(\"br\", null),\n    ___EmotionJSX(\"div\", null,\n    ___EmotionJSX(\"p\", null, t('Choose a visualization type')),\n    ___EmotionJSX(VizTypeControl, { name: \"select-vis-type\", onChange: this.changeVisType, value: this.state.visType })),\n\n    ___EmotionJSX(\"br\", null),\n    ___EmotionJSX(\"hr\", null),\n    ___EmotionJSX(Button, { bsStyle: \"primary\", disabled: this.isBtnDisabled(), onClick: this.gotoSlice },\n    t('Create new chart')),\n\n    ___EmotionJSX(\"br\", null),\n    ___EmotionJSX(\"br\", null))));\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(styleSelectWidth, \"styleSelectWidth\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/addSlice/AddSliceContainer.tsx\");reactHotLoader.register(AddSliceContainer, \"AddSliceContainer\", \"/home/tiago/git-facilit/incubator-superset/superset-frontend/src/addSlice/AddSliceContainer.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":null,"metadata":{},"sourceType":"module"}