"use strict";

exports.__esModule = true;
exports.default = combineContinuousDomains;

var _Base = require("../typeGuards/Base");

/**
 * Combine two continuous domain and ensure that the output
 * does not go beyond fixedDomain
 * @param userSpecifiedDomain
 * @param dataDomain
 */
function combineContinuousDomains(userSpecifiedDomain, dataDomain) {
  if (userSpecifiedDomain.length > 0 && (0, _Base.isEveryElementDefined)(userSpecifiedDomain)) {
    return userSpecifiedDomain;
  }

  if (dataDomain) {
    if (userSpecifiedDomain.length === 2 && dataDomain.length === 2 && userSpecifiedDomain.filter(_Base.isDefined).length > 0) {
      const [userSpecifiedMin, userSpecifiedMax] = userSpecifiedDomain;
      const [dataMin, dataMax] = dataDomain;
      let min = dataMin;

      if ((0, _Base.isDefined)(userSpecifiedMin)) {
        min = userSpecifiedMin.valueOf() > dataMin.valueOf() ? userSpecifiedMin : dataMin;
      }

      let max = dataMax;

      if ((0, _Base.isDefined)(userSpecifiedMax)) {
        max = userSpecifiedMax.valueOf() < dataMax.valueOf() ? userSpecifiedMax : dataMax;
      }

      return [min, max];
    }

    return dataDomain;
  }

  return undefined;
}